window.__require=function t(e,o,n){function i(a,l){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var c="function"==typeof __require&&__require;if(!l&&c)return c(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({BallA:[function(t,e,o){"use strict";cc._RF.push(e,"23a30901gdPlYbXdShFTBH4","BallA");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../module/kit/audio/AudioManager"),l=t("./L1W5D4Game21Config"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idleAnimation="",e.fireAnimation="",e.skeleton=null,e.touchBegin=!1,e._eatCount=0,e}return i(e,t),Object.defineProperty(e.prototype,"eatCount",{get:function(){return this._eatCount},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.playIdle()},e.prototype.start=function(){this.init()},e.prototype.onCollisionEnter=function(t){t.node.destroy(),this.growth(),this._eatCount++},e.prototype.init=function(){this.node.scale=1;var t=this.skeleton.node.width,e=this.skeleton.node.height;this.node.width=t,this.node.height=e;var o=this.node.getComponent(cc.BoxCollider);o.offset.x=(.5-this.node.anchorX)*t,o.offset.y=(.5-this.node.anchorY)*e,o.size.width=t,o.size.height=e},e.prototype.moveStart=function(){this.touchBegin=!0,this.playIdle()},e.prototype.move=function(t,e){this.node.x+=t,this.node.y+=e},e.prototype.moveEnd=function(){this.playIdle()},e.prototype.playIdle=function(){this.skeleton.setAnimation(0,this.idleAnimation,!0),console.log("play idle")},e.prototype.playFire=function(){this.skeleton.setAnimation(0,this.fireAnimation,!0),console.log("play fire")},e.prototype.growth=function(){a.default.playEffect(l.L1W6D4Game21BundleName,"audios/SE_mofaguaishou_09_ytz"),this.node.scale*=1.2},r([u()],e.prototype,"idleAnimation",void 0),r([u()],e.prototype,"fireAnimation",void 0),r([u(sp.Skeleton)],e.prototype,"skeleton",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../module/kit/audio/AudioManager":void 0,"./L1W5D4Game21Config":"L1W5D4Game21Config"}],HandControl:[function(t,e,o){"use strict";cc._RF.push(e,"d05d9soC3dBNpO0SoO0IA6e","HandControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,l=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hand=null,e.circle=null,e}return i(e,t),e.prototype.playLoopClick=function(){this.hand.timeScale=.4,this.hand.setAnimation(0,"dainji",!0),this.circle.setAnimation(0,"dianji",!0)},e.prototype.playTouchStart=function(){var t=this;return new Promise(function(e){var o=t.hand.setAnimation(0,"dainji",!1);t.hand.setTrackCompleteListener(o,function(){var o=t.circle.setAnimation(0,"dianji",!1);t.circle.node.opacity=255,t.circle.setTrackCompleteListener(o,function(){t.circle.node.opacity=0}),e()})})},e.prototype.playTouchEnd=function(){var t=this;return this.circle.node.opacity=0,new Promise(function(e){var o=t.hand.setAnimation(0,"taiqi",!1);t.hand.setTrackCompleteListener(o,function(){e()})})},r([s(sp.Skeleton)],e.prototype,"hand",void 0),r([s(sp.Skeleton)],e.prototype,"circle",void 0),r([l],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],L1W5D4Game21Config:[function(t,e,o){"use strict";cc._RF.push(e,"7b717BFxCRCyb49ecIQmxM8","L1W5D4Game21Config"),Object.defineProperty(o,"__esModule",{value:!0}),o.L1W6D4Game21BundleName=void 0,o.L1W6D4Game21BundleName="L1_W6_D4_Game2_1",cc._RF.pop()},{}],MagicMonster:[function(t,e,o){"use strict";cc._RF.push(e,"f13beW2d4FCqoKPzMBi4o/w","MagicMonster");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function l(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,l)}s((n=n.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(l){r=[6,l],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./../../../module/kit/event/ListenerManager"),c=t("./BallA"),u=t("./Monster"),p=t("./Player"),d=t("./ProgressControl"),h=t("./HandControl"),y=t("../../../module/component/scripts/GameCompBase"),f=t("../../../module/kit/audio/AudioManager"),v=t("../../../module/kit/TigoManager"),m=cc._decorator,g=m.ccclass,A=m.property,_=function(){function t(){this.title="I am happy.",this.titleAudio="magic_I_am_happy",this.options=[],this.answer=0}return r([A()],t.prototype,"title",void 0),r([A()],t.prototype,"titleAudio",void 0),r([A([cc.SpriteFrame])],t.prototype,"options",void 0),r([A()],t.prototype,"answer",void 0),r([g("MonsterQuestion")],t)}(),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.monster=null,e.players=[],e.progressControl=null,e.optionsNode=null,e.aBallNode=null,e.bBallNode=null,e.titleNode=null,e.titleText=null,e.questions=[],e.aBalls=[],e.bBalls=[],e.wrongABall=null,e.wrongBBall=null,e.paopaoAudio="",e.wrongAudio="",e.guideHand=null,e.blockInputNode=null,e.gameSounds=[],e.tweenArr=[],e.playerIndex=-1,e.questionIndex=-1,e.ballIndex=-1,e.currChoseBallA=null,e.currChosePlayer=null,e.latestBallAPos=null,e.playingGuide=!1,e.latestPlayIdleTime=0,e.latestUpdateAngleTime=0,e.wrongCount=0,e.voiceTool=null,e.woodTool=null,e}return i(e,t),e.prototype.onLoad=function(){return a(this,void 0,void 0,function(){var e,o,n=this;return l(this,function(i){switch(i.label){case 0:return t.prototype.onLoad.call(this),cc.director.getCollisionManager().enabled=!0,this.guideHand.node.active=!1,this.hideTitle(!0),s.ListenerManager.on("onPlayerTouchStart",this.onPlayerTouchStart,this),s.ListenerManager.on("onPlayerTouchMove",this.onPlayerTouchMove,this),s.ListenerManager.on("onPlayerTouchEnd",this.onPlayerTouchEnd,this),e=this,[4,this.initLabaComponent()];case 1:return e.voiceTool=i.sent(),this.voiceTool.node.position=cc.find("voice",this.node).position,this.voiceTool.AddEvent(function(){n.voiceTool.playSoundByBundle(n.bundleName,"audios/"+n.questions[n.questionIndex].titleAudio),n.creatFoodTimeout()}),o=this,[4,this.initColorWordComponent(25)];case 2:return o.woodTool=i.sent(),this.disableInput(),[2]}})})},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),s.ListenerManager.removeAll(this)},e.prototype.onGameStart=function(){this.progressControl.node.active=!1,this.progressControl.setProgress(1),this.nextRound(),cc.audioEngine.playMusic(this.gameSounds[0],!0)},e.prototype.lateUpdate=function(){var t,e=this;if(this.currChoseBallA&&this.currChoseBallA.node&&this.latestBallAPos){if(this.playingGuide){var o=this.guideHand.node.parent.convertToWorldSpaceAR(this.guideHand.node.position);o=this.aBallNode.convertToNodeSpaceAR(o),this.currChoseBallA.node.setPosition(o)}var n=this.currChoseBallA.node.position.sub(this.latestBallAPos);0!=n.x||0!=n.y?(Date.now()-this.latestUpdateAngleTime>40&&(this.currChoseBallA.node.angle=180*cc.v2(1,0).signAngle(cc.v2(n.x,n.y))/Math.PI,this.latestUpdateAngleTime=Date.now()),(t=e.currChoseBallA.skeleton.getState().tracks[0])&&t.animation.name===e.currChoseBallA.fireAnimation||e.currChoseBallA.playFire()):Date.now()-this.latestPlayIdleTime>500&&(function(){var t=e.currChoseBallA.skeleton.getState().tracks[0];t&&t.animation.name===e.currChoseBallA.idleAnimation||e.currChoseBallA.playIdle()}(),this.latestPlayIdleTime=Date.now()),this.latestBallAPos=this.currChoseBallA.node.position}},e.prototype.playGuide=function(){return a(this,void 0,void 0,function(){var t,e,o,n;return l(this,function(i){switch(i.label){case 0:return this.guideHand.node.active=!0,(t=this.guideHand.getComponent(cc.Animation)).play("guide"),this.playingGuide=!0,[4,this.guideHand.playTouchStart()];case 1:return i.sent(),this.currChosePlayer=this.players[0],e=this.aBalls[0],o=this.bBalls[0],n=this.players[0],this.currChoseBallA=this.showBallA(e,n),this.latestBallAPos=this.currChoseBallA.node.position,this.currChoseBallA.moveStart(),this.showBallB(o,n.node,this.monster.node,!0),this.scheduleOnce(this.onGuideCompleted.bind(this),t.defaultClip.duration),[2]}})})},e.prototype.stopGuide=function(){this.guideHand.getComponent(cc.Animation).stop(),this.playingGuide=!1,this.guideHand.node.active=!1,this.hideBallB(),this.hideBallA(),this.unscheduleAllCallbacks()},e.prototype.onGuideCompleted=function(){this.currChoseBallA.moveEnd(),this.hideBallB(),this.hideBallA(),this.currChosePlayer=null,this.currChoseBallA=null,this.guideHand.node.active=!1,this.playGuide()},e.prototype.creatFoodTimeout=function(){this.unschedule(this.foodTimeoutCallback),this.schedule(this.foodTimeoutCallback,5)},e.prototype.foodTimeoutCallback=function(){for(var t=0;t<this.optionsNode.children.length;t++)this.tweenArr[t]=cc.tween(this.optionsNode.children[t]).to(.1,{scale:1.2}).to(.15,{scale:.9}).to(.15,{scale:1.2}).to(.1,{scale:1}).start();f.default.playEffect(this.bundleName,"audios/"+this.questions[this.questionIndex].titleAudio)},e.prototype.onPlayerTouchStart=function(t){this.unschedule(this.foodTimeoutCallback),this.playingGuide&&this.stopGuide(),this.hideTips(),this.currChosePlayer=t;var e=this.questions[this.questionIndex],o=null,n=null;this.currChosePlayer.id===e.answer?(o=this.aBalls[this.ballIndex],n=this.bBalls[this.ballIndex]):(o=this.wrongABall,n=this.wrongBBall),this.currChoseBallA=this.showBallA(o,t),this.latestBallAPos=this.currChoseBallA.node.position,this.currChoseBallA.moveStart(),this.showBallB(n,t.node,this.monster.node,0===this.questionIndex)},e.prototype.onPlayerTouchMove=function(t){this.currChoseBallA.move(t.getDeltaX(),t.getDeltaY())},e.prototype.onPlayerTouchEnd=function(){var t=this;this.creatFoodTimeout(),this.currChoseBallA.moveEnd(),this.hideBallB();var e=this.questions[this.questionIndex];this.currChosePlayer.id===e.answer?(this.wrongCount=0,this.voiceTool&&(this.voiceTool.node.active=!1),this.woodTool.showWordAni(this.questions[this.questionIndex].title),this.shot().then(function(){t.hideOptions(),t.hideTitle();var e;e=t.currChoseBallA.eatCount<2?1:t.currChoseBallA.eatCount<4?2:3,t.monster.playRunAway(e).then(function(){t.progressControl.setProgress(1-(t.questionIndex+1)/t.questions.length),t.roundEnd(),t.nextRound()}),t.currChosePlayer=null,t.currChoseBallA=null})):(this.hideBallA(),this.wrongAudio&&f.default.playEffect(this.bundleName,this.wrongAudio),this.currChosePlayer.playWrong(),++this.wrongCount>=3&&this.showTips())},e.prototype.roundEnd=function(){var t=this.wrongCount>0?2:3;v.default.callAppToTigoStar(t),this.unschedule(this.foodTimeoutCallback)},e.prototype.showTips=function(){for(var t=this.questions[this.questionIndex],e=null,o=0,n=this.players;o<n.length;o++){var i=n[o];i.id===t.answer&&(e=i)}if(e){var r=e.node.parent.convertToWorldSpaceAR(e.node.position);r=this.guideHand.node.parent.convertToNodeSpaceAR(r),this.guideHand.node.setPosition(r),this.guideHand.node.stopAllActions(),this.guideHand.getComponent(cc.Animation).stop(),this.guideHand.node.active=!0,this.guideHand.playLoopClick()}},e.prototype.hideTips=function(){this.guideHand.node.active=!1},e.prototype.shot=function(){var t=this;return new Promise(function(e){t.disableInput();var o=cc.v3(100,30,0),n=t.currChosePlayer.node.parent.convertToWorldSpaceAR(t.currChosePlayer.node.position);n=t.aBallNode.convertToNodeSpaceAR(n).add(o);var i=t.monster.node.parent.convertToWorldSpaceAR(t.monster.node.position);i=t.aBallNode.convertToNodeSpaceAR(i),t.currChoseBallA.node.setPosition(n),t.currChoseBallA.node.angle=30,t.currChoseBallA.node.active=!1,t.currChosePlayer.playShot().then(function(){cc.audioEngine.play(t.gameSounds[1],!1,1),t.currChoseBallA.node.active=!0,t.scheduleOnce(function(){t.currChosePlayer.playIdle()},.3),t.currChoseBallA.node.runAction(cc.sequence(cc.jumpTo(1,cc.v2(i.x,i.y),210,1),cc.callFunc(function(){cc.audioEngine.playEffect(t.gameSounds[2],!1),t.hideBallA(),e()})))})})},e.prototype.nextRound=function(){var t=this;return console.log(" ===nextRound this.questionIndex: ",this.questionIndex),this.questionIndex>=this.questions.length-1?(console.warn("\u5df2\u7ed3\u675f"),this.gameEndAni(),Promise.resolve()):(this.wrongCount=0,this.disableInput(),this.questionIndex++,this.ballIndex++,this.ballIndex>=this.aBalls.length&&(this.ballIndex=0),new Promise(function(e){t.playerIndex++,t.playerIndex>t.players.length-1&&(t.playerIndex=0);var o=t.players[t.playerIndex];o.playMoveIn().then(function(){o.playIdle()}),t.monster.transformShape(),t.monster.playMoveIn().then(function(){t.monster.playIdle(),t.showProgress();var o=void 0;0===t.questionIndex&&(o=0),t.showOptions(o).then(function(){0===t.questionIndex?(0===t.questionIndex&&t.playGuide(),f.default.playEffect(t.bundleName,"audios/Hit_the_monsters_ytz",function(){f.default.playEffect(t.bundleName,"audios/"+t.questions[t.questionIndex].titleAudio,function(){cc.isValid(t.node)&&t.creatFoodTimeout()}),t.showTitle()})):(f.default.playEffect(t.bundleName,"audios/"+t.questions[t.questionIndex].titleAudio,function(){cc.isValid(t.node)&&t.creatFoodTimeout()}),t.showTitle())}),e()})}))},e.prototype.showBallB=function(t,e,o,n){var i=this,r=Math.abs(e.x-o.x),a=(r-180)/3,l=r/6,s=e.parent.convertToWorldSpaceAR(e.position);s=this.bBallNode.convertToNodeSpaceAR(s),n||this.bBallNode.destroyAllChildren(),this.scheduleOnce(function(){var e=n&&i.bBallNode.children[0]||cc.instantiate(t);e.opacity=0,e.active=!1,e.setPosition(s.add(cc.v3(90,90,0))),e.parent!==i.bBallNode&&i.bBallNode.addChild(e);var o=n&&i.bBallNode.children[1]||cc.instantiate(t);o.opacity=0,o.active=!1,o.setPosition(s.add(cc.v3(90+a,90+l,0))),o.parent!==i.bBallNode&&i.bBallNode.addChild(o);var r=n&&i.bBallNode.children[2]||cc.instantiate(t);r.opacity=0,r.active=!1,r.setPosition(s.add(cc.v3(90+2*a,90+l,0))),r.parent!==i.bBallNode&&i.bBallNode.addChild(r);var c=n&&i.bBallNode.children[3]||cc.instantiate(t);c.opacity=0,c.active=!1,c.setPosition(s.add(cc.v3(90+3*a,90,0))),c.parent!==i.bBallNode&&i.bBallNode.addChild(c);for(var u=0;u<i.bBallNode.children.length;u++){var p=i.bBallNode.children[u];p.stopAllActions(),p.active=!0,p.opacity=0,cc.tween(p).delay(.25*u).to(.25,{opacity:255}).start()}})},e.prototype.hideBallB=function(){for(var t=0,e=this.bBallNode.children;t<e.length;t++)e[t].active=!1},e.prototype.showBallA=function(t,e){var o=e.node.parent.convertToWorldSpaceAR(e.node.position);o=this.aBallNode.convertToNodeSpaceAR(o);var n=cc.instantiate(t);return n.setPosition(o),this.aBallNode.addChild(n),n.getComponent(c.default)},e.prototype.hideBallA=function(){for(var t=0,e=this.aBallNode.children;t<e.length;t++)e[t].destroy()},e.prototype.showProgress=function(){this.progressControl.node.active=!0},e.prototype.showOptions=function(t){var e=this;return new Promise(function(o){e.paopaoAudio&&f.default.playEffect(e.bundleName,e.paopaoAudio);var n=e.questions[e.questionIndex];if("number"==typeof t)(r=e.optionsNode.children[t]).scale=0,r.active=!0,r.getChildByName("emoji").getComponent(cc.Sprite).spriteFrame=n.options[t],cc.tween(r).to(1,{scale:1}).call(function(){o()}).start();else for(var i=0;i<e.optionsNode.children.length;i++){var r;(r=e.optionsNode.children[i]).scale=0,r.active=!0,r.getChildByName("emoji").getComponent(cc.Sprite).spriteFrame=n.options[i],cc.tween(r).to(1,{scale:1}).call(function(){o()}).start(),r.getChildByName("shou").active=e.questionIndex>2}})},e.prototype.hideOptions=function(){for(var t=0;t<this.optionsNode.children.length;t++){var e=this.optionsNode.children[t];e.scale=1,cc.tween(e).to(1,{scale:0}).start()}},e.prototype.showTitle=function(){var t=this;this.voiceTool&&(this.voiceTool.node.active=!0);var e=this.questions[this.questionIndex];this.titleText.string=e.title,cc.tween(this.titleNode).to(1,{scale:1}).start(),this.scheduleOnce(function(){t.enabledInput()},1)},e.prototype.hideTitle=function(t){this.voiceTool&&(this.voiceTool.node.active=!1),t?this.titleNode.scale=0:cc.tween(this.titleNode).to(1,{scale:0}).start()},e.prototype.gameEndAni=function(){var t=this;this.disableInput(),this.scheduleOnce(function(){for(var e=0,o=t.players;e<o.length;e++)o[e].playHappy();cc.audioEngine.stopMusic(),t.gameEnd()},1)},e.prototype.disableInput=function(){this.blockInputNode.y=0},e.prototype.enabledInput=function(){this.blockInputNode.y=1200},r([A(u.default)],e.prototype,"monster",void 0),r([A([p.default])],e.prototype,"players",void 0),r([A(d.default)],e.prototype,"progressControl",void 0),r([A(cc.Node)],e.prototype,"optionsNode",void 0),r([A(cc.Node)],e.prototype,"aBallNode",void 0),r([A(cc.Node)],e.prototype,"bBallNode",void 0),r([A(cc.Node)],e.prototype,"titleNode",void 0),r([A(cc.Label)],e.prototype,"titleText",void 0),r([A([_])],e.prototype,"questions",void 0),r([A(cc.Prefab)],e.prototype,"aBalls",void 0),r([A(cc.Prefab)],e.prototype,"bBalls",void 0),r([A(cc.Prefab)],e.prototype,"wrongABall",void 0),r([A(cc.Prefab)],e.prototype,"wrongBBall",void 0),r([A({displayName:"\u6c14\u6ce1\u97f3\u6548"})],e.prototype,"paopaoAudio",void 0),r([A()],e.prototype,"wrongAudio",void 0),r([A(h.default)],e.prototype,"guideHand",void 0),r([A(cc.Node)],e.prototype,"blockInputNode",void 0),r([A({type:[cc.AudioClip],displayName:"\u97f3\u6548"})],e.prototype,"gameSounds",void 0),r([g],e)}(y.default);o.default=C,cc._RF.pop()},{"../../../module/component/scripts/GameCompBase":void 0,"../../../module/kit/TigoManager":void 0,"../../../module/kit/audio/AudioManager":void 0,"./../../../module/kit/event/ListenerManager":void 0,"./BallA":"BallA","./HandControl":"HandControl","./Monster":"Monster","./Player":"Player","./ProgressControl":"ProgressControl"}],Monster:[function(t,e,o){"use strict";cc._RF.push(e,"6753anqOTpFwKkThPUvVF+e","Monster");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,l=a.ccclass,s=a.property,c=function(){function t(){this.walkAnimation="day4_2_guaiwu2_zoulu",this.idleAnimation="day4_2_guaiwu2_daiji",this.runAwayAnimation="day4_2_guaiwu2_dagun",this.skeletonData=null}return r([s()],t.prototype,"walkAnimation",void 0),r([s()],t.prototype,"idleAnimation",void 0),r([s()],t.prototype,"runAwayAnimation",void 0),r([s(sp.SkeletonData)],t.prototype,"skeletonData",void 0),r([l("MonsterShape")],t)}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapes=[],e.skeleton=null,e.gameSounds=[],e.currIndex=-1,e.originPos=null,e}return i(e,t),Object.defineProperty(e.prototype,"shape",{get:function(){return this.shapes[this.currIndex]},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.originPos=this.node.position},e.prototype.playIdle=function(){this.skeleton.setAnimation(0,this.shape.idleAnimation,!0)},e.prototype.playMoveIn=function(){var t=this;return new Promise(function(e){t.node.stopAllActions(),cc.audioEngine.play(t.gameSounds[0],!1,1),t.skeleton.setAnimation(0,t.shape.walkAnimation,!0),cc.tween(t.node).by(2,{x:-370}).call(function(){e()}).start()})},e.prototype.playRunAway=function(t){var e=this;return new Promise(function(o){switch(e.node.stopAllActions(),e.skeleton.timeScale=1,t){case 1:e.skeleton.timeScale=2,e.skeleton.setAnimation(0,e.shape.runAwayAnimation,!0),cc.audioEngine.play(e.gameSounds[1],!1,1),cc.tween(e.node).to(1,{x:e.originPos.x}).call(function(){o()}).start();break;case 2:e.playIdle();var n=cc.v3(100,500,0);cc.audioEngine.play(e.gameSounds[2],!1,1),cc.tween(e.node).to(1,{angle:2520,scale:.2,position:e.node.position.add(n)}).call(function(){e.node.position=e.originPos,e.node.scale=1,e.node.angle=0,o()}).start();break;case 3:default:e.playIdle();var i=e.node.position,r=cc.v2(120,e.node.height),a=cc.v3(0,500,0);cc.audioEngine.play(e.gameSounds[3],!1,1),e.node.runAction(cc.sequence(cc.jumpTo(.4,cc.v2(i.x-r.x,i.y),r.y,1),cc.jumpTo(.4,cc.v2(i.x,i.y),r.y,1),cc.jumpTo(.4,cc.v2(i.x+r.x,i.y),r.y,1),cc.jumpTo(.4,cc.v2(i.x,i.y),r.y,1),cc.jumpTo(.15,cc.v2(i.x+a.x,i.y+a.y),0,1),cc.callFunc(function(){e.node.position=e.originPos,o()})))}})},e.prototype.transformShape=function(){this.currIndex++,this.currIndex>this.shapes.length-1&&(this.currIndex=0),this.skeleton.skeletonData=this.shapes[this.currIndex].skeletonData},r([s([c])],e.prototype,"shapes",void 0),r([s(sp.Skeleton)],e.prototype,"skeleton",void 0),r([s({type:[cc.AudioClip],displayName:"\u97f3\u6548"})],e.prototype,"gameSounds",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"94f6ePRvKFHXLjlBDWyCp7B","Player");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../module/kit/event/ListenerManager"),l=cc._decorator,s=l.ccclass,c=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveAnimationClip=null,e.id=0,e.moveSkeletonAnimation="",e.idleSkeletonAnimation="",e.happySkeletonAnimation="",e.shotSkeletonAnimation="",e.wrongSkeletonAnimation="",e.skeleton=null,e.ballSound=null,e.shootSound=null,e.fireSound=null,e.moveAudio=null,e.ballSoundId=0,e.hasEnter=!1,e.animation=null,e}return i(e,t),e.prototype.onLoad=function(){this.animation=this.getComponent(cc.Animation),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.onTouchStart=function(){this.ballSoundId=cc.audioEngine.play(this.ballSound,!1,1),a.ListenerManager.dispatch("onPlayerTouchStart",this)},e.prototype.onTouchMove=function(t){a.ListenerManager.dispatch("onPlayerTouchMove",t)},e.prototype.onTouchEnd=function(){-1!=this.ballSoundId&&(cc.audioEngine.stop(this.ballSoundId),this.ballSoundId=-1),a.ListenerManager.dispatch("onPlayerTouchEnd",this)},e.prototype.playMoveIn=function(){var t=this;return new Promise(function(e){t.hasEnter?e():t.animation&&t.moveAnimationClip?(t.moveAudio&&cc.audioEngine.play(t.moveAudio,!1,1),t.moveSkeletonAnimation&&t.skeleton.setAnimation(0,t.moveSkeletonAnimation,!0),t.animation.play(t.moveAnimationClip.name),t.scheduleOnce(function(){t.hasEnter=!0,e()},t.moveAnimationClip.duration)):(t.hasEnter=!0,e())})},e.prototype.playIdle=function(){this.skeleton.setAnimation(0,this.idleSkeletonAnimation,!0)},e.prototype.playHappy=function(){this.skeleton.setAnimation(0,this.happySkeletonAnimation,!0)},e.prototype.playShot=function(){var t=this;return new Promise(function(e){var o=t.skeleton.setAnimation(0,t.shotSkeletonAnimation,!1);cc.audioEngine.play(t.shootSound,!1,1),t.skeleton.setTrackCompleteListener(o,function(){e()})})},e.prototype.playWrong=function(){var t=this;return new Promise(function(e){var o=t.skeleton.setAnimation(0,t.wrongSkeletonAnimation,!1);cc.audioEngine.play(t.fireSound,!1,1),t.skeleton.setTrackCompleteListener(o,function(){t.playIdle(),e()})})},r([c(cc.AnimationClip)],e.prototype,"moveAnimationClip",void 0),r([c()],e.prototype,"id",void 0),r([c()],e.prototype,"moveSkeletonAnimation",void 0),r([c()],e.prototype,"idleSkeletonAnimation",void 0),r([c()],e.prototype,"happySkeletonAnimation",void 0),r([c()],e.prototype,"shotSkeletonAnimation",void 0),r([c()],e.prototype,"wrongSkeletonAnimation",void 0),r([c(sp.Skeleton)],e.prototype,"skeleton",void 0),r([c({type:cc.AudioClip,displayName:"\u7403\u97f3\u6548"})],e.prototype,"ballSound",void 0),r([c({type:cc.AudioClip,displayName:"\u53d1\u5c04"})],e.prototype,"shootSound",void 0),r([c({type:cc.AudioClip,displayName:"\u9519\u8bef"})],e.prototype,"fireSound",void 0),r([c({type:cc.AudioClip,displayName:"\u79fb\u52a8\u97f3\u6548"})],e.prototype,"moveAudio",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../module/kit/event/ListenerManager":void 0}],ProgressControl:[function(t,e,o){"use strict";cc._RF.push(e,"bc02dEvCvBPRre9Wyq5g1E/","ProgressControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,l=a.ccclass,s=a.property,c=a.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.progressBar=null,e}return i(e,t),e.prototype.onLoad=function(){this.progressBar=this.getComponent(cc.ProgressBar)},e.prototype.setProgress=function(t){cc.tween(this.progressBar).to(1,{progress:t}).start(),cc.tween(this.icon).to(1,{x:this.node.width*t}).start()},r([s(cc.Node)],e.prototype,"icon",void 0),r([l,c(cc.ProgressBar)],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],paopao:[function(t,e,o){"use strict";cc._RF.push(e,"9793ejox+tO6KkR0ZCQnPgM","paopao");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./../../../module/kit/event/ListenerManager"),l=t("./Player"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetPlayer=null,e}return i(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.onTouchStart=function(){a.ListenerManager.dispatch("onPlayerTouchStart",this.targetPlayer)},e.prototype.onTouchEnd=function(){a.ListenerManager.dispatch("onPlayerTouchEnd",this.targetPlayer)},r([u(l.default)],e.prototype,"targetPlayer",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./../../../module/kit/event/ListenerManager":void 0,"./Player":"Player"}]},{},["BallA","HandControl","L1W5D4Game21Config","MagicMonster","Monster","Player","ProgressControl","paopao"]);