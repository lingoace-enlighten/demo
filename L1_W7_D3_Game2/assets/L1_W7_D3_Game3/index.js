window.__require=function t(e,n,o){function i(r,c){if(!n[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){return i(e[r][1][t]||t)},l,l.exports,t,e,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({GameConfig_L2W4D1Game3:[function(t,e,n){"use strict";cc._RF.push(e,"8180eTY63dJ/5CIzaNb1XyJ","GameConfig_L2W4D1Game3"),Object.defineProperty(n,"__esModule",{value:!0}),n.GC=n.GameConfig=void 0;var o=function(){function t(){this.gameIndex=0,this.gameTotal=2,this.gameCount=4,this.gameCommonUrl="res/img/",this.gameTipAudio="res/audios/click and listen_ytz",this.gameFinishArr=[],this.isGameD2=!1,this.gameWordArr=["trousers","sweater","shirt"],this.gameEnemyArr=[3,2,4,1],this.gameWordArrD3=["TV","bookcase"],this.gameEnemyArrD3=[3,2,4,1],this.PropItemName=["bingkuai","shu"],this.speedFar=260,this.audio={bgm:"res/audios/BGM_mofaguaishou_01_ytz",audio1:"res/audios/SE_dapaopao_01",audio2:"res/audios/SE_dapaopao_02",audio3:"res/audios/SE_dapaopao_03",audio4:"res/audios/SE_dapaopao_04",audio5:"res/audios/SE_dapaopao_05",audio6:"res/audios/SE_dapaopao_06",huanhu:"res/audios/huanhu"}}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.addGameIndex=function(){this.gameIndex+=1,this.speedFar=1.2*this.speedFar},t}();n.GameConfig=o,n.GC=o.getInstance(),cc._RF.pop()},{}],GameManager_L2W4D1Game3:[function(t,e,n){"use strict";cc._RF.push(e,"a6577iEq6lD6p5o8OEQCOYz","GameManager_L2W4D1Game3");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{s(o.next(t))}catch(e){a(e)}}function c(t){try{s(o.throw(t))}catch(e){a(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return s([t,e])}}function s(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(c){a=[6,c],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./GameConfig_L2W4D1Game3"),u=t("./StaticInstance_L2W4D1Game3"),l=t("../../../../module/component/scripts/GameCompBase"),p=t("../../../../module/kit/event/ListenerManager"),h=t("../../../../module/kit/event/BaseEvent"),f=t("../../../../module/kit/audio/AudioManager"),d=cc._decorator,m=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordCard=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),u.StaticInstance.setGameManager(this),p.ListenerManager.on(h.BaseEvent.EVENT_FOLLOW_UP_RIGHT,this.playRight,this),this.initRecordComponent()},e.prototype.start=function(){t.prototype.start.call(this),this.initAll(),cc.debug.setDisplayStats(!1)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),p.ListenerManager.removeAll(this)},e.prototype.onGameStart=function(){cc.log("\u5f00\u59cb\u6e38\u620f~~"),this.startGame(),this.palyBGM()},e.prototype.palyBGM=function(){return r(this,void 0,void 0,function(){return c(this,function(){return f.default.playMusic(this.bundleName,s.GC.audio.bgm),[2]})})},e.prototype.gameEnd=function(){t.prototype.gameEnd.call(this)},e.prototype.initAll=function(){},e.prototype.showMask=function(){var t=this.node.getChildByName("mask");this.SetMask(t,!0),cc.log("\u5f00\u542f\u4e86  mask")},e.prototype.hideMask=function(){var t=this.node.getChildByName("mask");this.SetMask(t,!1),cc.log("\u5173\u95ed\u4e86  mask")},e.prototype.SetMask=function(t,e){e?t.setPosition(cc.Vec2.ZERO):t.setPosition(cc.v2(9999,9999))},e.prototype.startGame=function(){return r(this,void 0,void 0,function(){return c(this,function(){return this.showMask(),this.startFirstTip(),[2]})})},e.prototype.startFirstTip=function(){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return 0!==s.GC.gameIndex?[3,3]:(u.StaticInstance.QuestionManager.isTipMove(),[4,this.sleep(2)]);case 1:return t.sent(),f.default.playEffect(this.bundleName,s.GC.gameTipAudio),u.StaticInstance.QuestionManager.startFirstTip(),[4,this.sleep(2)];case 2:t.sent(),this.hideMask(),t.label=3;case 3:return[2]}})})},e.prototype.nextLevel=function(){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return s.GC.addGameIndex(),s.GC.gameFinishArr.length>=s.GC.gameTotal?(this.stopGameRun(),this.destroyGameRun(),u.StaticInstance.SpineManager.palyTigoHappy(),[4,this.sleep(2)]):[3,2];case 1:return t.sent(),this.gameEnd(),[2];case 2:return[2]}})})},e.prototype.sleep=function(t){var e=this;return new Promise(function(n){console.log("sleep ----  "+t),e.scheduleOnce(function(){n()},t)})},e.prototype.showWordCard=function(t){var e=null;this.node.getChildByName("wordCard")?(e=this.node.getChildByName("wordCard")).active=!1:(e=cc.instantiate(this.wordCard),this.node.addChild(e)),e.name="wordCard",e.active=!0,e.x=0,e.y=260,e.zIndex=101;var n=e.getComponent(cc.Label);t&&(n.string=t),cc.tween(e).delay(2).call(function(){e.active=!1}).start()},e.prototype.stopGameRun=function(){u.StaticInstance.QuestionManager.stopLoad()},e.prototype.destroyGameRun=function(){u.StaticInstance.QuestionManager.destroyLoad()},e.prototype.startGameRun=function(){this.hideMask(),u.StaticInstance.QuestionManager.startLoad()},e.prototype.playRight=function(){this.startGameRun(),this.nextLevel()},e.prototype.startFollowUp=function(){this.stopGameRun(),this.destroyGameRun();var t=s.GC.gameFinishArr[s.GC.gameFinishArr.length-1],e={text:t,textString:t,word:!0,img:"res/img/"+t,imgScale:1,music:"res/audios/"+t,time:3};this.scheduleOnce(function(){p.ListenerManager.dispatch(h.BaseEvent.EVENT_FOLLOW_UP,e)},1)},e.prototype.onTestBtnClick=function(){u.StaticInstance.QuestionManager.onClickMofaItem()},a([y(cc.Prefab)],e.prototype,"wordCard",void 0),a([m],e)}(l.default);n.default=g,cc._RF.pop()},{"../../../../module/component/scripts/GameCompBase":void 0,"../../../../module/kit/audio/AudioManager":void 0,"../../../../module/kit/event/BaseEvent":void 0,"../../../../module/kit/event/ListenerManager":void 0,"./GameConfig_L2W4D1Game3":"GameConfig_L2W4D1Game3","./StaticInstance_L2W4D1Game3":"StaticInstance_L2W4D1Game3"}],Item_L2W4D1Game3:[function(t,e,n){"use strict";cc._RF.push(e,"c5e47ll54JGVK4wjlkwcUiy","Item_L2W4D1Game3");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{s(o.next(t))}catch(e){a(e)}}function c(t){try{s(o.throw(t))}catch(e){a(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return s([t,e])}}function s(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(c){a=[6,c],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.playSpineAnimation=n.throttle=void 0;var s=t("../../../../module/kit/assets/AssetsManger"),u=t("../../../../module/kit/audio/AudioManager"),l=t("./GameConfig_L2W4D1Game3"),p=t("./StaticInstance_L2W4D1Game3"),h=cc._decorator,f=h.ccclass,d=h.property;function m(t,e){var n=this;void 0===e&&(e=500);var o=Date.now();return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var r=(new Date).valueOf();r-o>=e&&(t.apply(n,i),o=r)}}function y(t,e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=0),!n)return new Promise(function(i){var a=t.setAnimation(o,e,n);t.setTrackCompleteListener(a,function(){i(null)})});Promise.resolve().then(function(){t.setAnimation(o,e,n)})}n.throttle=m,n.playSpineAnimation=y;var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp=null,e.hand=null,e.isTip=!1,e.cueName="",e.isMove=!1,e.sizeH=750,e.clickButtonCb=m(function(){e.clickResult()},3e3),e}return i(e,t),e.prototype.start=function(){this.initAll()},e.prototype.initAll=function(){var t=cc.winSize;this.sizeH=t.height+300},e.prototype.isStartTipMove=function(){this.isTip&&(this.isMove=!0)},e.prototype.showHand=function(){this.hand.active=!0},e.prototype.hideHand=function(){this.hand.active=!1},e.prototype.initItem=function(t,e,n){return r(this,void 0,void 0,function(){var o;return c(this,function(i){switch(i.label){case 0:return e?(this.node.name=e,this.node.setPosition(n),o=this.sp,[4,s.default.instance.loadImg(t,"L1_W7_D3_Game3")]):[2];case 1:return o.spriteFrame=i.sent(),this.isMove=!0,this.palyBubbleIdle(),[2]}})})},e.prototype.startMove=function(){this.isMove=!0},e.prototype.stopMove=function(){this.isMove=!1},e.prototype.clickBtn=function(){console.log(" ===clickBtn: "),this.isMove=!1,this.clickResult(),this.hideHand(),p.StaticInstance.GameManager.showMask()},e.prototype.palyBubbleAnimation=function(){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return u.default.playEffect("L1_W7_D3_Game3",l.GC.audio.audio5),[4,y(this.node.getChildByName("paopaoxin").getComponent(sp.Skeleton),"paopao_polie")];case 1:return t.sent(),[2]}})})},e.prototype.palyBubbleIdle=function(){return r(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return(t=this.node.getChildByName("paopaoxin")).active=!0,[4,y(t.getComponent(sp.Skeleton),"paopao_daiji")];case 1:return e.sent(),[2]}})})},e.prototype.clickResult=function(){var t=this;cc.log(this.node.name);var e=this.node.name;p.StaticInstance.GameManager.stopGameRun(),p.StaticInstance.SpineManager.palyShootAni(this.node,function(){l.GC.PropItemName.includes(e)?"bingkuai"==e?t.palyIceAnimation():"shu"==e&&t.palyMofashuAnimation():t.palyRightAnimation()}),l.GC.PropItemName.includes(e)||(u.default.playAudioSound("L1_W7_D3_Game3","res/audios/"+this.node.name),p.StaticInstance.GameManager.showWordCard(this.node.name))},e.prototype.palyIceAnimation=function(){return r(this,void 0,void 0,function(){var t,e,n,o=this;return c(this,function(){return t=p.StaticInstance.SpineManager.tigoSp.node,e=t.convertToWorldSpaceAR(cc.Vec2.ZERO),n=this.node.parent.convertToNodeSpaceAR(e),cc.tween(this.node).to(.5,{x:n.x,y:n.y}).call(function(){o.node.destroy(),p.StaticInstance.GameManager.startGameRun(),p.StaticInstance.SpineManager.palyDongAni(function(){p.StaticInstance.GameManager.hideMask()})}).start(),[2]})})},e.prototype.palyMofashuAnimation=function(){return r(this,void 0,void 0,function(){var t,e,n,o=this;return c(this,function(){return t=p.StaticInstance.SpineManager.tigoSp.node,e=t.convertToWorldSpaceAR(cc.Vec2.ZERO),n=this.node.parent.convertToNodeSpaceAR(e),cc.tween(this.node).to(.5,{x:n.x,y:n.y}).call(function(){o.node.destroy(),p.StaticInstance.SpineManager.palyMofashuAni(function(){p.StaticInstance.GameManager.hideMask(),p.StaticInstance.QuestionManager.onClickMofaItem()})}).start(),[2]})})},e.prototype.palyRightAnimation=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i=this;return c(this,function(a){switch(a.label){case 0:return[4,this.palyBubbleAnimation()];case 1:return a.sent(),t=p.StaticInstance.TargetManager.targetContent,e=t.getChildByName(this.node.name),n=e.convertToWorldSpaceAR(cc.Vec2.ZERO),o=this.node.parent.convertToNodeSpaceAR(n),cc.tween(this.node).to(.5,{x:o.x,y:o.y}).call(function(){i.node.active=!1,i.node.destroy(),p.StaticInstance.GameManager.startGameRun(),p.StaticInstance.TargetManager.palyShowProgress(i.node.name),p.StaticInstance.GameManager.hideMask()}).start(),[2]}})})},e.prototype.isItemActive=function(){return!!cc.isValid(this.node)},e.prototype.palyRightAnimation1=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i=this;return c(this,function(a){switch(a.label){case 0:return this.isItemActive()?[4,this.palyBubbleAnimation()]:[2];case 1:return a.sent(),t=p.StaticInstance.TargetManager.targetContent,e=t.getChildByName(this.node.name),n=e.convertToWorldSpaceAR(cc.Vec2.ZERO),o=this.node.parent.convertToNodeSpaceAR(n),cc.tween(this.node).to(.5,{x:o.x,y:o.y}).call(function(){i.node.active=!1,i.node.destroy(),p.StaticInstance.GameManager.startGameRun(),p.StaticInstance.TargetManager.palyShowProgress(i.node.name)}).start(),[2]}})})},e.prototype.setSpeed=function(t){var e=t*l.GC.speedFar;this.node.y+=e,this.node.y>=this.sizeH&&(this.isMove=!1,this.node.active=!1,this.node.destroy())},e.prototype.update=function(t){this.isMove&&this.setSpeed(t)},a([d(cc.Sprite)],e.prototype,"sp",void 0),a([d(cc.Node)],e.prototype,"hand",void 0),a([d()],e.prototype,"isTip",void 0),a([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../../module/kit/assets/AssetsManger":void 0,"../../../../module/kit/audio/AudioManager":void 0,"./GameConfig_L2W4D1Game3":"GameConfig_L2W4D1Game3","./StaticInstance_L2W4D1Game3":"StaticInstance_L2W4D1Game3"}],QuestionManager_L2W4D1Game3:[function(t,e,n){"use strict";cc._RF.push(e,"45c84L9BRtJBr4QvwQ0kMdo","QuestionManager_L2W4D1Game3");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./StaticInstance_L2W4D1Game3"),c=t("./GameConfig_L2W4D1Game3"),s=t("./Item_L2W4D1Game3"),u=t("../../../../module/kit/TigoManager"),l=cc._decorator,p=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemyPrefab=null,e.posArr=null,e.itemNode=null,e.curScreenItems=[],e.itemPool=null,e.coinNum=3,e.correctPosArr=[],e.wordArr=[],e.isRandom=!1,e.isStartGame=!1,e.curItemCount=0,e.num_waitTime=5,e.tipCallback=null,e.isTip=!1,e.cTime=0,e.totalTime=1,e}return i(e,t),e.prototype.onLoad=function(){r.StaticInstance.setQuestionManager(this)},e.prototype.start=function(){this.itemPool||(this.itemPool=new cc.NodePool("itemPool")),this.initPool(),c.GC.isGameD2?(this.itemNode.getChildByName("TV").active=!1,this.itemNode.getChildByName("bookcase").active=!0):(this.itemNode.getChildByName("TV").active=!0,this.itemNode.getChildByName("bookcase").active=!1)},e.prototype.initPool=function(){for(var t=0;t<100;++t){var e=cc.instantiate(this.enemyPrefab);this.itemPool.put(e)}},e.prototype.getEnemyItem=function(){this.curItemCount++;var t=null,e=this.getCorrectItem(),n=this.getWordItem();if(this.curItemCount>=4&&(this.curItemCount=0,n=this.getPropItemName()),n){(t=this.itemPool.size()>0?this.itemPool.get():cc.instantiate(this.enemyPrefab)).parent=this.itemNode;var o=c.GC.gameCommonUrl+n;t.getComponent(s.default).initItem(o,n,e),this.curScreenItems.push(t.getComponent(s.default))}},e.prototype.getPropItemName=function(){var t=Math.floor(Math.random()*c.GC.PropItemName.length);return c.GC.PropItemName[t]},e.prototype.onClickMofaItem=function(){for(var t=0;t<this.curScreenItems.length;t++)this.curScreenItems[t].palyRightAnimation1()},e.prototype.getCorrectItem=function(){0===this.correctPosArr.length&&(this.correctPosArr=JSON.parse(JSON.stringify(c.GC.gameEnemyArr)));var t=null;if(this.isRandom){var e=Math.floor(Math.random()*this.correctPosArr.length);t=this.correctPosArr.splice(e,1)}else t=this.correctPosArr.splice(0,1);var n=this.posArr.getChildByName(""+t);return n?n.getPosition():null},e.prototype.getNewWordArr=function(){cc.log("\u5df2\u7ecf\u5b8c\u6210\u6570\u7ec4 === ",c.GC.gameFinishArr);var t=[],e=[];return e=c.GC.isGameD2?JSON.parse(JSON.stringify(c.GC.gameWordArr)):JSON.parse(JSON.stringify(c.GC.gameWordArrD3)),cc.log("\u5f53\u524d\u5b66\u4e60\u7684\u8bcd === ",e),c.GC.gameFinishArr.length>0?e.forEach(function(e){c.GC.gameFinishArr.includes(e)||t.push(e)}):t=e,t},e.prototype.getWordItem=function(){this.wordArr.length<=0&&(this.wordArr=this.getNewWordArr()),cc.log("\u5f53\u524d\u5355\u8bcd\u6570\u7ec4 === ",this.wordArr);var t=null;if(0!==this.wordArr.length){if(this.isRandom){var e=Math.floor(Math.random()*this.wordArr.length);t=this.wordArr.splice(e,1)}else t=this.wordArr.splice(0,1);return t[0]}},e.prototype.playCoinAnimation=function(){this.coinNum=3===this.coinNum?3:2,u.default.callAppToTigoStar(this.coinNum),this.coinNum=3},e.prototype.palyFeedbackSp=function(t,e,n){var o=this;return new Promise(function(i){var a=null;a=n?n.getChildByName("feedback"):o.node.getChildByName("feedback"),e&&(a.y=e.y);var r=a.getChildByName("smoke"),c=a.getChildByName("star");if(r.active=!t,c.active=t,t){var s=(u=c.getComponent(sp.Skeleton)).setAnimation(0,"13_1_zhengfangti xiaoshixiaoguo",!1);u.setTrackCompleteListener(s,function(){c.active=!1,i()})}else{var u;s=(u=r.getComponent(sp.Skeleton)).setAnimation(0,"08_4_z_zhenzha",!1),u.setTrackCompleteListener(s,function(){r.active=!1,i()})}})},e.prototype.setTip=function(){var t=this;this.cancelTip(),this.schedule(this.tipCallback=function(){t.DetectionTip()},1)},e.prototype.cancelTip=function(){this.num_waitTime=0,this.isTip=!1,this.tipCallback&&this.unschedule(this.tipCallback)},e.prototype.DetectionTip=function(){this.num_waitTime+=1,this.num_waitTime>5&&(this.num_waitTime=-1,this.playClickTipAnimation())},e.prototype.playClickTipAnimation=function(t,e){cc.tween().repeat(2,cc.tween().to(.05,{scale:1.1}).to(.1,{scale:.9}).to(.05,{scale:1})).call(function(){e&&e()})},e.prototype.update=function(t){this.isStartGame&&c.GC.gameFinishArr.length<3&&(this.cTime+=t,this.cTime>=this.totalTime&&(this.getEnemyItem(),this.cTime=0))},e.prototype.startLoad=function(){this.isStartGame=!0,this.itemNode.children.forEach(function(t){t.getComponent(s.default).startMove()})},e.prototype.stopLoad=function(){this.isStartGame=!1,this.itemNode.children.forEach(function(t){t.getComponent(s.default).stopMove()})},e.prototype.destroyLoad=function(){this.itemNode.children.forEach(function(t){t.destroy()})},e.prototype.startRandom=function(){this.isRandom=!0},e.prototype.stopRandom=function(){this.isRandom=!1},e.prototype.startFirstTip=function(){this.stopLoad();var t=!1;this.itemNode.children.forEach(function(e){!t&&e.active&&(t=!0,e.getComponent(s.default).showHand())})},e.prototype.isTipMove=function(){this.itemNode.children.forEach(function(t){t.getComponent(s.default).isStartTipMove()})},a([h(cc.Prefab)],e.prototype,"enemyPrefab",void 0),a([h(cc.Node)],e.prototype,"posArr",void 0),a([h(cc.Node)],e.prototype,"itemNode",void 0),a([p],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../../module/kit/TigoManager":void 0,"./GameConfig_L2W4D1Game3":"GameConfig_L2W4D1Game3","./Item_L2W4D1Game3":"Item_L2W4D1Game3","./StaticInstance_L2W4D1Game3":"StaticInstance_L2W4D1Game3"}],SpineManager_L2W4D1Game3:[function(t,e,n){"use strict";cc._RF.push(e,"aa071/yPtFMKpYUz1z6Mzcm","SpineManager_L2W4D1Game3");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{s(o.next(t))}catch(e){a(e)}}function c(t){try{s(o.throw(t))}catch(e){a(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return s([t,e])}}function s(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(c){a=[6,c],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.playSpineAnimation=void 0;var s=t("./StaticInstance_L2W4D1Game3"),u=t("./GameConfig_L2W4D1Game3"),l=t("../../../../module/kit/audio/AudioManager");function p(t,e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=0),!n)return new Promise(function(i){var a=t.setAnimation(o,e,n);t.setTrackCompleteListener(a,function(){i(null)})});Promise.resolve().then(function(){t.setAnimation(o,e,n)})}n.playSpineAnimation=p;var h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tigoSp=null,e.bulletNode=null,e.bullet=null,e.bulletPool=null,e.tigo={idle:"day2_3_tigo_daiji",happy:"day2_3_tigo_huanhu",Shoot:"day2_3_tigo_hui2",Mofashu:"day2_3_tigo_mo",Ice:"day2_3_tigo_dong",bomb:"day1_3_tigo_shexian"},e}return i(e,t),e.prototype.onLoad=function(){s.StaticInstance.setSpineManager(this)},e.prototype.start=function(){this.bulletPool||(this.bulletPool=new cc.NodePool("bulletPool")),this.initPool()},e.prototype.initPool=function(){for(var t=0;t<20;++t){var e=cc.instantiate(this.bullet);this.bulletPool.put(e)}},e.prototype.palyTigoIdle=function(){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,p(this.tigoSp,this.tigo.idle,!0)];case 1:return t.sent(),[2]}})})},e.prototype.palyTigoHappy=function(){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return l.default.playEffect("L1_W7_D3_Game3",u.GC.audio.huanhu),[4,p(this.tigoSp,this.tigo.happy,!0)];case 1:return t.sent(),[2]}})})},e.prototype.palyTigoShoot=function(){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.scheduleOnce(function(){l.default.playEffect("L1_W7_D3_Game3",u.GC.audio.audio1)},.5),[4,p(this.tigoSp,this.tigo.Shoot)];case 1:return t.sent(),[2]}})})},e.prototype.palyTigoDong=function(){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,p(this.tigoSp,this.tigo.Ice)];case 1:return t.sent(),[2]}})})},e.prototype.resetShootMes=function(){},e.prototype.shootBullet=function(t,e,n){var o=this;return new Promise(function(e){var i=null;(i=o.bulletPool.size()>0?o.bulletPool.get():cc.instantiate(o.bullet)).parent=o.bulletNode,i.active=!0,i.x=0,i.y=0;var a,r=i.getPosition().sub(t).mag(),c=o.getAngle(i.getPosition(),t);i.angle=-(c-180)-135,a=r/700,cc.tween(i).to(a,{x:t.x,y:t.y}).call(function(){i.active=!1,i.destroy(),n&&n(),e()}).start()})},e.prototype.isCanClick=function(){s.StaticInstance.GameManager.hideMask()},e.prototype.isNotCanClick=function(){s.StaticInstance.GameManager.showMask()},e.prototype.palyShootAni=function(t,e){return r(this,void 0,void 0,function(){var n,o;return c(this,function(i){switch(i.label){case 0:return this.isNotCanClick(),[4,this.palyTigoShoot()];case 1:return i.sent(),this.palyTigoIdle(),cc.isValid(t)?(n=t.convertToWorldSpaceAR(cc.Vec2.ZERO),o=this.bulletNode.convertToNodeSpaceAR(n),[4,this.shootBullet(o,t.name,e)]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.palyDongAni=function(t){return r(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.isNotCanClick(),[4,this.palyTigoDong()];case 1:return e.sent(),t&&t(),this.palyTigoIdle(),[2]}})})},e.prototype.palyMofashuAni=function(t){return r(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.isNotCanClick(),console.log(" ====palyMofashuAni===="),[4,p(this.tigoSp,this.tigo.Mofashu)];case 1:return e.sent(),console.log(" ====palyMofashuAni222===="),t&&t(),this.palyTigoIdle(),[2]}})})},e.prototype.playRightAnimation=function(t){s.StaticInstance.TargetManager.palyShowProgress(t)},e.prototype.getAngle=function(t,e){return e.sub(t).signAngle(cc.v2(1,0))/Math.PI*180},a([d(sp.Skeleton)],e.prototype,"tigoSp",void 0),a([d(cc.Node)],e.prototype,"bulletNode",void 0),a([d(cc.Node)],e.prototype,"bullet",void 0),a([f],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../module/kit/audio/AudioManager":void 0,"./GameConfig_L2W4D1Game3":"GameConfig_L2W4D1Game3","./StaticInstance_L2W4D1Game3":"StaticInstance_L2W4D1Game3"}],StaticInstance_L2W4D1Game3:[function(t,e,n){"use strict";cc._RF.push(e,"aa1401RiuhJo4HyCGHqcCN9","StaticInstance_L2W4D1Game3"),Object.defineProperty(n,"__esModule",{value:!0}),n.StaticInstance=void 0;var o=function(){function t(){}return t.setGameManager=function(e){t.GameManager=e},t.setSpineManager=function(e){t.SpineManager=e},t.setQuestionManager=function(e){t.QuestionManager=e},t.setTargetManager=function(e){t.TargetManager=e},t.SpineManager=void 0,t.QuestionManager=void 0,t.GameManager=void 0,t.TargetManager=void 0,t}();n.StaticInstance=o,cc._RF.pop()},{}],TargetManager_L2W4D1Game3:[function(t,e,n){"use strict";cc._RF.push(e,"a93f69+fsBFu6A8S6X67e4J","TargetManager_L2W4D1Game3");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./StaticInstance_L2W4D1Game3"),c=t("./GameConfig_L2W4D1Game3"),s=t("../../../../module/kit/audio/AudioManager"),u=t("../../../../module/commonRes/scripts/CommonResEnum"),l=t("./W7D3Game3targetNode"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetNode=null,e.targetContent=null,e.curName="",e}return i(e,t),e.prototype.onLoad=function(){r.StaticInstance.setTargetManager(this)},e.prototype.start=function(){this.initMes()},e.prototype.initMes=function(){var t=this;c.GC.isGameD2?c.GC.gameWordArr.forEach(function(e){var n=cc.instantiate(t.targetNode);n.parent=t.targetContent,n.active=!0,n.getComponent(l.default).initItem(e)}):c.GC.gameWordArrD3.forEach(function(e){var n=cc.instantiate(t.targetNode);n.parent=t.targetContent,n.active=!0,n.getComponent(l.default).initItem(e)})},e.prototype.palyShowProgress=function(t){cc.log("\u8282\u70b9\u540d\u5b57 === "+t),this.curName=t,this.targetContent.getChildByName(t).getComponent(l.default).showProgress(),this.palyStartAni()},e.prototype.palyStartAni=function(){var t=this.targetContent.getChildByName(this.curName);if(t){var e=t.getPosition();s.default.playEffect(u.CommonResBundleName,u.CommonAudioName.gameRight),r.StaticInstance.QuestionManager.palyFeedbackSp(!0,e,this.node)}},a([f(cc.Prefab)],e.prototype,"targetNode",void 0),a([f(cc.Node)],e.prototype,"targetContent",void 0),a([h],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../module/commonRes/scripts/CommonResEnum":void 0,"../../../../module/kit/audio/AudioManager":void 0,"./GameConfig_L2W4D1Game3":"GameConfig_L2W4D1Game3","./StaticInstance_L2W4D1Game3":"StaticInstance_L2W4D1Game3","./W7D3Game3targetNode":"W7D3Game3targetNode"}],W7D3Game3targetNode:[function(t,e,n){"use strict";cc._RF.push(e,"4cac8+Boh1G0b81jt2biTEL","W7D3Game3targetNode");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{s(o.next(t))}catch(e){a(e)}}function c(t){try{s(o.throw(t))}catch(e){a(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return s([t,e])}}function s(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(c){a=[6,c],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../module/kit/assets/AssetsManger"),u=t("./GameConfig_L2W4D1Game3"),l=t("./StaticInstance_L2W4D1Game3"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graySp=null,e.targetSp=null,e.curCount=0,e.isFinished=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){return r(this,void 0,void 0,function(){var e,n;return c(this,function(o){switch(o.label){case 0:return e=this.graySp,[4,s.default.instance.loadImg(u.GC.gameCommonUrl+"gray_"+t,"L1_W7_D3_Game3")];case 1:return e.spriteFrame=o.sent(),n=this.targetSp,[4,s.default.instance.loadImg(u.GC.gameCommonUrl+t,"L1_W7_D3_Game3")];case 2:return n.spriteFrame=o.sent(),this.node.name=t,[2]}})})},e.prototype.showProgress=function(){if(!this.isFinished){this.curCount+=1;var t=this.curCount>=u.GC.gameCount?1:this.curCount/u.GC.gameCount;this.targetSp.fillRange=Number(t.toFixed(2)),cc.log("fillRange === ",t),t>=1&&(this.isFinished=!0,u.GC.gameFinishArr.includes(this.node.name)||(l.StaticInstance.GameManager.stopGameRun(),u.GC.gameFinishArr.push(this.node.name),cc.log("\u5f00\u59cb\u8ddf\u8bfb === ",this.node.name),l.StaticInstance.GameManager.startFollowUp()),cc.log("\u5b8c\u6210\u7269\u54c1 === ",u.GC.gameFinishArr))}},a([f(cc.Sprite)],e.prototype,"graySp",void 0),a([f(cc.Sprite)],e.prototype,"targetSp",void 0),a([h],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../module/kit/assets/AssetsManger":void 0,"./GameConfig_L2W4D1Game3":"GameConfig_L2W4D1Game3","./StaticInstance_L2W4D1Game3":"StaticInstance_L2W4D1Game3"}]},{},["GameConfig_L2W4D1Game3","GameManager_L2W4D1Game3","Item_L2W4D1Game3","QuestionManager_L2W4D1Game3","SpineManager_L2W4D1Game3","StaticInstance_L2W4D1Game3","TargetManager_L2W4D1Game3","W7D3Game3targetNode"]);