window.__require=function t(e,o,i){function n(c,s){if(!o[c]){if(!e[c]){var r=c.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var h=o[c]={exports:{}};e[c][0].call(h.exports,function(t){return n(e[c][1][t]||t)},h,h.exports,t,e,o,i)}return o[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<i.length;c++)n(i[c]);return n}({ballGame:[function(t,e,o){"use strict";cc._RF.push(e,"a2f61RNP7hLoqKoYSsN23tY","ballGame");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,c=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(a<3?n(c):a>3?n(e,o,c):n(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../module/commonRes/scripts/CommonResEnum"),s=t("../../../module/component/scripts/GameCompBase"),r=t("../../../module/component/scripts/SpineUtils"),l=t("../../../module/kit/audio/AudioManager"),h=t("../../../module/kit/event/ListenerManager"),u=t("../../../module/kit/TigoManager"),d=cc._decorator,p=d.ccclass,f=d.property,g=function(){function t(){this.Ballframes=[],this.answer=0}return a([f({type:[cc.SpriteFrame],displayName:"\u5173\u5361\u56fe\u72470\u5de61\u53f3"})],t.prototype,"Ballframes",void 0),a([f({type:cc.Integer})],t.prototype,"answer",void 0),a([p("BallQuestion")],t)}(),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TigoAnimation=null,e.ball=null,e.wrongBall=null,e.mainCamera=null,e.bgNode=null,e.wallNode=[],e.door=[],e.touchNode=[],e.gameSounds=[],e.QueConfig=[],e.tipHand=null,e.feedBack=null,e.voiceNode=null,e.gameEffects=[],e._CameraMaxX=0,e._CameraMaxY=0,e.is_debug=!1,e.gameIndex=0,e.gameBegin=!1,e.leftPos=cc.v2(-320,28),e.rightPos=cc.v2(300,28),e.touchWrong=!1,e.touchRight=!1,e.isClickNum=0,e.soundArr=["tigo_ytz","hello_ytz","tigo_ytz","hello_ytz"],e}return n(e,t),e.prototype.onLoad=function(){var e=this;if(t.prototype.onLoad.call(this),u.default.appInfo&&u.default.appInfo.versionName?console.log("\u652f\u6301\u91cd\u529b\u611f\u5e94\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e"):(console.log("\u4e0d\u652f\u6301\u91cd\u529b\u611f\u5e94\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e"),this.ball.getComponent(cc.PhysicsCircleCollider).restitution=.7),this.initHandComponent().then(function(t){e.tipHand=t}),this.initLabaComponent().then(function(t){e.voiceNode=t,e.voiceNode.node.active=!0;var o=cc.winSize.height/2;e.voiceNode.node.y=o-80,e.voiceNode.AddEvent(function(){e.voiceNode.playSoundByBundle(e.bundleName,"audios/"+e.soundArr[e.gameIndex])})}),this.initFeedBackComponent().then(function(t){e.feedBack=t}),h.ListenerManager.on("ball_touch_start",this.ballTouchStart,this),h.ListenerManager.on("ball_touch_end",this.ballTouchEnd,this),h.ListenerManager.on("ball_touch_first",this.touchNodeCall,this),this.mainCamera=cc.find("Canvas/Main Camera").getComponent(cc.Camera),cc.director.getPhysicsManager().enabled=!0,this.is_debug){var o=cc.PhysicsManager.DrawBits;cc.director.getPhysicsManager().debugDrawFlags=o.e_jointBit|o.e_shapeBit}},e.prototype.onGameStart=function(){u.default.appInfo&&u.default.appInfo.versionName&&(console.log("\u5f00\u542f\u91cd\u529b\u63a5\u53e3"),u.default.callMotion(!0)),this.nextQuetion()},e.prototype.start=function(){t.prototype.start.call(this),cc.audioEngine.playMusic(this.gameEffects[0],!0),this._CameraMaxY=this.bgNode.y,cc.log(this._CameraMaxY+" ========== "+this._CameraMaxY),this.mainCamera.node.y=this._CameraMaxY},e.prototype.ballTouchStart=function(){this.unscheduleAllCallbacks(),this.tipHand.node.active=!1,console.log("ballTouchStart ==========>")},e.prototype.ballTouchEnd=function(){var t=this;console.log("ballTouchEnd =========>"),this.scheduleOnce(function(){t.gameTip()},5),this.isClickNum++},e.prototype.touchTip=function(){var t=this;this.schedule(function(){cc.audioEngine.play(t.gameSounds[t.gameIndex],!1,1),cc.tween(t.ball).to(.2,{scale:1}).to(.2,{scale:.9}).to(.2,{scale:1}).to(.2,{scale:.9}).start(),cc.tween(t.wrongBall).to(.2,{scale:1}).to(.2,{scale:.9}).to(.2,{scale:1}).to(.2,{scale:.9}).start()},5)},e.prototype.gameTip=function(){var t=this;u.default.appInfo&&u.default.appInfo.versionName||0!=this.gameBegin&&this.schedule(function(){t.tipHand.node.active=!0;var e=t.tipHand.getComponent("HandCtr"),o=cc.v2(t.ball.x,t.ball.y),i=cc.v2(0,0);i=t.ball.x>0?cc.v2(t.ball.x-200,t.ball.y):cc.v2(t.ball.x+200,t.ball.y),e.TouchAnimation(o,i,.5)},2)},e.prototype.nextQuetion=function(){var t=this;this.isClickNum=0,this.ball.getComponent(cc.RigidBody).active=!1,this.ball.getComponent(cc.RigidBody).fixedRotation=!0,this.touchRight=!1,this.TigoAnimation.clearTracks(),this.TigoAnimation.setAnimation(0,"hopper_daiji",!0),this.ball.getComponent("ball").touchTimes=0,this.ball.getComponent("ball").curGravity_speed=-200,console.log("Point =======roundStart=======>",this.gameIndex+1),0==this.gameIndex?l.default.playEffect(this.bundleName,"audios/Listen_and_click_ytz",function(){cc.tween(t.mainCamera.node).by(3,{y:-t._CameraMaxY}).call(function(){t.gameBegin=!0,cc.audioEngine.play(t.gameSounds[t.gameIndex],!1,1),t.touchTip()}).start()}):cc.tween(this.mainCamera.node).by(3,{y:-this._CameraMaxY}).call(function(){t.gameBegin=!0,cc.audioEngine.play(t.gameSounds[t.gameIndex],!1,1),t.touchTip()}).start(),this.door.forEach(function(t){t.angle=0}),0==this.QueConfig[this.gameIndex].answer?(cc.log("init game ======> "+this.gameIndex),cc.log("game answer ======> "+this.QueConfig[this.gameIndex].answer),this.ball.getComponent(cc.Sprite).spriteFrame=this.QueConfig[this.gameIndex].Ballframes[0],this.wrongBall.getComponent(cc.Sprite).spriteFrame=this.QueConfig[this.gameIndex].Ballframes[1],this.ball.x=this.leftPos.x,this.ball.y=this.leftPos.y,this.ball.opacity=255,this.wrongBall.x=this.rightPos.x,this.wrongBall.y=this.rightPos.y,this.wrongBall.active=!0,cc.log(this.wrongBall.x)):(cc.log("222 init game ======> "+this.gameIndex),cc.log("222 game answer ======> "+this.QueConfig[this.gameIndex].answer),this.ball.getComponent(cc.Sprite).spriteFrame=this.QueConfig[this.gameIndex].Ballframes[1],this.wrongBall.getComponent(cc.Sprite).spriteFrame=this.QueConfig[this.gameIndex].Ballframes[0],this.ball.x=this.rightPos.x,this.ball.y=this.rightPos.y,this.ball.opacity=255,this.wrongBall.x=this.leftPos.x,this.wrongBall.y=this.leftPos.y,this.wrongBall.active=!0,cc.log("2222 ==> "+this.wrongBall.x)),this.ball.angle=0,this.wallNode.forEach(function(t){t.active=!0})},e.prototype.touchNodeFalse=function(){this.touchRight||(this.unscheduleAllCallbacks(),this.touchTip(),this.isClickNum++,l.default.playEffect(c.CommonResBundleName,c.CommonAudioName.gameError),this.touchWrong=!0,this.addReward(this.wrongBall,1))},e.prototype.touchNodeCall=function(){var t=this;if(0!=this.ball.opacity){this.isClickNum++,this.unscheduleAllCallbacks(),this.touchRight=!0,l.default.playEffect(c.CommonResBundleName,c.CommonAudioName.gameRight),this.addReward(this.ball,0);var e=this.QueConfig[this.gameIndex].answer;this.wallNode[e].active=!1;var o=0==e?-90:90;if(cc.tween(this.door[e]).by(.5,{angle:o}).start(),cc.audioEngine.play(this.gameEffects[1],!1,1),this.scheduleOnce(function(){t.gameTip()},5),0==this.gameIndex&&u.default.appInfo&&u.default.appInfo.versionName){var i=cc.find("guide",this.node);i.active=!0,this.setBlockInputEvent(!0),l.default.playLoopEffect(this.bundleName,"audios/SE_tanliqiu_03"),r.SpineUtils.playSpine(i.getComponent(sp.Skeleton),"shou",!1,function(){l.default.stopLoopEffect(t.bundleName,"audios/SE_tanliqiu_03"),i.active=!1,t.setBlockInputEvent(!1),t.ball.getComponent(cc.RigidBody).active=!0,t.ball.getComponent(cc.RigidBody).fixedRotation=!1})}else this.ball.getComponent(cc.RigidBody).active=!0,this.ball.getComponent(cc.RigidBody).fixedRotation=!1}},e.prototype.addReward=function(t,e){0==e?this.feedBack.showRightAnimation(t.position):this.feedBack.showErrorAnimation(t.position)},e.prototype.updateCameraPosition=function(){var t=this.ball.y;t<this._CameraMaxY&&(t=this._CameraMaxY),t>0&&(t=0),this.mainCamera.node.y=t},e.prototype.gameWin=function(){var t=this;cc.log("game win!!"),this.tipHand.node.active=!1,l.default.playEffect(c.CommonResBundleName,c.CommonAudioName.gameRight),this.gameBegin=!1;var e=this.touchWrong?2:3;u.default.callAppToTigoStar(e),this.touchWrong=!1,this.feedBack.showRightAnimation(this.ball.position),this.ball.angle=0,this.ball.opacity=0,this.gameIndex++,console.log("Point =======roundEnd=======>",this.gameIndex,this.isClickNum),this.gameIndex>=4?this.gameEnd():(this.TigoAnimation.clearTracks(),l.default.playEffect(this.bundleName,"audios/SE_tanliqiu_01"),this.TigoAnimation.setAnimation(0,"hopper_kaixin",!0),this.scheduleOnce(function(){t.nextQuetion()},2))},e.prototype.gameEnd=function(){var e=this;this.TigoAnimation.clearTracks(),l.default.playEffect(this.bundleName,"audios/SE_tanliqiu_02"),this.TigoAnimation.setAnimation(0,"hopper_beng",!0),this.scheduleOnce(function(){cc.find("gameOver1",e.node).active=!0,cc.find("gameOver1",e.node).getChildByName("left").x=.5*-cc.winSize.width,cc.find("gameOver1",e.node).getChildByName("right").x=.5*cc.winSize.width,t.prototype.gameEnd.call(e)},2)},e.prototype.update=function(){this.gameBegin&&(this.updateCameraPosition(),this.ball.y<-1450&&this.gameWin())},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),cc.audioEngine.stopMusic(),h.ListenerManager.off("ball_touch_start",this.ballTouchStart,this),h.ListenerManager.off("ball_touch_end",this.ballTouchEnd,this),h.ListenerManager.off("ball_touch_first",this.touchNodeCall,this),this.mainCamera.node.y=0,u.default.appInfo&&u.default.appInfo.versionName&&(console.log("\u5173\u95ed\u91cd\u529b\uff5e\uff5e\uff5e\uff5e\uff5e"),u.default.callMotion(!1)),cc.director.getPhysicsManager().enabled=!1},a([f(sp.Skeleton)],e.prototype,"TigoAnimation",void 0),a([f(cc.Node)],e.prototype,"ball",void 0),a([f(cc.Node)],e.prototype,"wrongBall",void 0),a([f(cc.Node)],e.prototype,"bgNode",void 0),a([f({type:[cc.Node],displayName:"\u7a7a\u6c14\u58990\u5de61\u53f3"})],e.prototype,"wallNode",void 0),a([f({type:[cc.Node],displayName:"\u6321\u677f1\u5de60\u53f3"})],e.prototype,"door",void 0),a([f({type:[cc.Node],displayName:"\u521d\u59cb\u70b9\u51fb\u533a\u57df1\u5de60\u53f3"})],e.prototype,"touchNode",void 0),a([f({type:[cc.AudioClip],displayName:"\u6e38\u620f\u8bed\u97f3"})],e.prototype,"gameSounds",void 0),a([f([g])],e.prototype,"QueConfig",void 0),a([f({type:[cc.AudioClip],displayName:"\u97f3\u4e50\u97f3\u6548"})],e.prototype,"gameEffects",void 0),a([p],e)}(s.default);o.default=m,cc._RF.pop()},{"../../../module/commonRes/scripts/CommonResEnum":void 0,"../../../module/component/scripts/GameCompBase":void 0,"../../../module/component/scripts/SpineUtils":void 0,"../../../module/kit/TigoManager":void 0,"../../../module/kit/audio/AudioManager":void 0,"../../../module/kit/event/ListenerManager":void 0}],ball:[function(t,e,o){"use strict";cc._RF.push(e,"fece6bR5gZDNKkxltvykr/Z","ball");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,c=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(a<3?n(c):a>3?n(e,o,c):n(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../module/kit/event/BaseEvent"),s=t("../../../module/kit/event/ListenerManager"),r=t("../../../module/kit/TigoManager"),l=cc._decorator,h=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cameraNode=null,e._rigidBody=null,e.LV_x=0,e.LV_speedX=200,e.m_gravity=200,e.touchTimes=0,e.isTouchEnd=!0,e.curGravity_speed=-200,e.test_num=-1,e.endPosX=0,e}return n(e,t),e.prototype.onLoad=function(){this.endPosX=this.node.x,this._rigidBody=this.node.getComponent(cc.RigidBody),this.cameraNode=cc.find("Canvas/Main Camera"),s.ListenerManager.on(c.BaseEvent.EVENT_NATIVE_CALL_COCOS,this.motionBack,this)},e.prototype.motionBack=function(t){if(t.action===r.default.CocosByNativeAction.TiGoStartMotion){if(0==this.touchTimes||!this.isTouchEnd)return;var e=t.param.tg_y<0?200:-200;if(this.curGravity_speed=this.curGravity_speed-4,!this._rigidBody)return;this._rigidBody.linearVelocity=cc.v2(e,-400)}},e.prototype.start=function(){this._rigidBody.active=!1,this.node.on("touchstart",this.onTouchBegin,this),this.node.on("touchmove",this.onTouchMove,this),this.node.on("touchend",this.onTouchEnd,this),this.node.on("touchcancel",this.onTouchEnd,this)},e.prototype.onTouchBegin=function(t){0!=this.touchTimes&&(cc.log("touch begin"),this.isTouchEnd=!1,s.ListenerManager.dispatch("ball_touch_start"),t.getLocation(),this._rigidBody.gravityScale=0,this._rigidBody.linearVelocity=cc.v2(0,0))},e.prototype.onTouchMove=function(t){if(0!=this.touchTimes){var e=t.getLocation(),o=t.getDelta();this.node.parent.convertToNodeSpaceAR(e),this.node.x+=o.x,this.node.y+=o.y,o.x>5?this.LV_x=1:o.x<-5?this.LV_x=2:this.LV_x=0}},e.prototype.onTouchEnd=function(){if(cc.log("touch End"),0==this.touchTimes)return this.touchTimes+=1,void s.ListenerManager.dispatch("ball_touch_first");this.isTouchEnd=!0,s.ListenerManager.dispatch("ball_touch_end"),this.node.getComponent(cc.RigidBody).gravityScale=1.5,r.default.appInfo&&r.default.appInfo.versionName?console.log("\u652f\u6301\u91cd\u529b\u611f\u5e94\u65e0\u9700\u624b\u52a8\u65bd\u52a0\u529b\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e"):(1==this.LV_x?this._rigidBody.linearVelocity=cc.v2(this.LV_speedX,-this.m_gravity):2==this.LV_x?this._rigidBody.linearVelocity=cc.v2(-this.LV_speedX,-this.m_gravity):this._rigidBody.linearVelocity=cc.v2(0,-this.m_gravity),this.LV_x=0)},e.prototype.update=function(){},e.prototype.leftBack=function(){this.endPosX=-300,console.log("this.test_num ====>>>>",this.test_num)},e.prototype.rightBack=function(){this.endPosX=280,console.log("this.test_num ====>>>>",this.test_num)},e.prototype.onDestroy=function(){console.log("\u5173\u95ed\u91cd\u529b\u611f\u5e94\u76d1\u542c\uff5e\uff5e\uff5e\uff5e\uff5e"),s.ListenerManager.off(c.BaseEvent.EVENT_NATIVE_CALL_COCOS,this.motionBack,this)},a([h],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../module/kit/TigoManager":void 0,"../../../module/kit/event/BaseEvent":void 0,"../../../module/kit/event/ListenerManager":void 0}],cameraMove:[function(t,e,o){"use strict";cc._RF.push(e,"065d2hWz8hOh7m9AtNxTzFu","cameraMove");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,c=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(a<3?n(c):a>3?n(e,o,c):n(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},a([r(cc.Label)],e.prototype,"label",void 0),a([r],e.prototype,"text",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],wallCall:[function(t,e,o){"use strict";cc._RF.push(e,"59ea5X/s6RL2bZU5dg1Ojh4","wallCall");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,c=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(a<3?n(c):a>3?n(e,o,c):n(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contactEffect=null,e.effectPlaying=!1,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onEndContact=function(){var t=this;if(!this.effectPlaying){this.effectPlaying=!0;var e=cc.audioEngine.playEffect(this.contactEffect,!1);cc.audioEngine.setFinishCallback(e,function(){t.effectPlaying=!1})}},a([r(cc.AudioClip)],e.prototype,"contactEffect",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}]},{},["ball","ballGame","cameraMove","wallCall"]);