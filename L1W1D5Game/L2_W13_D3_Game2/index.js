window.__require=function e(t,o,n){function i(r,a){if(!o[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=o[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,o,n)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({SkyRescueCar:[function(e,t,o){"use strict";cc._RF.push(t,"508f7wuzzhPxqY2op/o3X/C","SkyRescueCar");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var i,c=arguments.length,r=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(c<3?i(r):c>3?i(t,o,r):i(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r},r=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,c){function r(e){try{s(n.next(e))}catch(t){c(t)}}function a(e){try{s(n.throw(e))}catch(t){c(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,a)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(e){return function(t){return s([e,t])}}function s(c){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(a){c=[6,a],n=0}finally{o=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("./SkyRescue"),l=e("./SkyRescue_congfig"),u=cc._decorator,f=u.ccclass,h=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game=null,t.bg0=null,t.car=null,t.finish=null,t.isBegin=!1,t.speedX=0,t.speedY=0,t.begin=!1,t.isSlow=!1,t.canMove=!0,t}return i(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.start=function(){},t.prototype.drive=function(){var e=this;this.bg0.on(cc.Node.EventType.TOUCH_START,function(t){e.canMove&&(e.isBegin=!0,e.tempPlayer=e.game.convertToNodeSpaceAR(t.getLocation()),e.finish.x=e.tempPlayer.x,e.finish.y=e.tempPlayer.y)},this),this.bg0.on(cc.Node.EventType.TOUCH_MOVE,function(t){e.canMove&&e.isBegin&&(e.tempPlayer=e.game.convertToNodeSpaceAR(t.getLocation()),e.finish.position=e.tempPlayer)},this),this.bg0.on(cc.Node.EventType.TOUCH_END,function(){e.canMove&&e.isBegin&&(e.isBegin=!1)},this)},t.prototype.onCollisionEnter=function(e){return r(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:switch(e.node.name){case"stone":return[3,1]}return[3,3];case 1:return cc.director.getCollisionManager().enabled=!1,this.game.getComponent(s.default).eatStone(),this.scheduleOnce(function(){cc.director.getCollisionManager().enabled=!0},1.2),e.node.getComponent(l.SkyRescue_congfig.stoneTs).pauseTween(),[4,this.playSpine(e.node.getChildByName("xinglixiang").getComponent(sp.Skeleton),"xiangziposui",!1)];case 2:return t.sent(),e.node.removeFromParent(),[3,4];case 3:return this.game.getComponent(s.default).eatFood(e.node),e.node.removeFromParent(),[3,4];case 4:return[2]}})})},t.prototype.creatMove=function(){this.canMove=!0},t.prototype.removeMove=function(){this.canMove=!1},t.prototype.update=function(){if(this.canMove){if(this.car.x>=this.finish.x-2&&this.car.x<=this.finish.x+2)return this.speedX=0,this.speedY=0,this.begin=!1,void(this.isSlow=!1);this.car.x<this.finish.x?this.car.getChildByName("piting").scaleX=-.7:this.car.x>this.finish.x&&(this.car.getChildByName("piting").scaleX=.7),Math.abs(this.finish.y-this.car.y)>Math.abs(this.finish.x-this.car.x)?(this.time=Math.floor(Math.abs(this.finish.y-this.car.y)),this.y=1,this.car.y>this.finish.y&&(this.y=-1),this.x=Math.abs(this.finish.x-this.car.x)/this.time,this.car.x>this.finish.x&&(this.x=-1*this.x)):Math.abs(this.finish.y-this.car.y)<=Math.abs(this.finish.x-this.car.x)&&(this.time=Math.floor(Math.abs(this.finish.x-this.car.x)),this.x=1,this.car.x>this.finish.x&&(this.x=-1),this.y=Math.abs(this.finish.y-this.car.y)/this.time,this.car.y>this.finish.y&&(this.y=-1*this.y)),this.speedX=this.x,this.speedY=this.y,"animation"!=this.car.getChildByName("piting").getComponent(sp.Skeleton).animation&&this.playSpine(this.car.getChildByName("piting").getComponent(sp.Skeleton),"animation",!0),this.car.x=this.car.x+7*this.speedX}},t.prototype.playSpine=function(e,t,o,n){if(void 0===o&&(o=!1),void 0===n&&(n=0),!o)return new Promise(function(i){var c=e.setAnimation(n,t,o);e.setTrackCompleteListener(c,function(){i(null)})});Promise.resolve().then(function(){e.setAnimation(n,t,o)})},c([h(cc.Node)],t.prototype,"game",void 0),c([h(cc.Node)],t.prototype,"bg0",void 0),c([h({type:cc.Node,displayName:"car"})],t.prototype,"car",void 0),c([h({type:cc.Node,displayName:"finish"})],t.prototype,"finish",void 0),c([f],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./SkyRescue":"SkyRescue","./SkyRescue_congfig":"SkyRescue_congfig"}],SkyRescueFood:[function(e,t,o){"use strict";cc._RF.push(t,"8f9fcAsnE9HdJi1F5TLSJh4","SkyRescueFood");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var i,c=arguments.length,r=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(c<3?i(r):c>3?i(t,o,r):i(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r},r=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,c){function r(e){try{s(n.next(e))}catch(t){c(t)}}function a(e){try{s(n.throw(e))}catch(t){c(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,a)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(e){return function(t){return s([e,t])}}function s(c){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(a){c=[6,a],n=0}finally{o=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../module/kit/assets/AssetsManger"),l=e("./SkyRescue_congfig"),u=cc._decorator,f=u.ccclass,h=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.image=null,t}return i(t,e),t.prototype.start=function(){return r(this,void 0,void 0,function(){var e,t,o,n,i=this;return a(this,function(c){switch(c.label){case 0:for(o=0;o<l.SkyRescue_congfig.tipImg.length;o++)for(n=0;n<l.SkyRescue_congfig.tipImg[o].length;n++)this.node.getChildByName("text").getComponent(cc.Label).string==l.SkyRescue_congfig.tipImg[o][n]&&(e=l.SkyRescue_congfig.foodSpin[o][n],t=l.SkyRescue_congfig.foodSpinName[o][n]);return[4,s.default.instance.loadSpineData("res/spines/"+e,l.SkyRescue_congfig.bundleName).then(function(e){i.image.getComponent(sp.Skeleton).skeletonData=e})];case 1:return c.sent(),this.playSpine(this.image.getComponent(sp.Skeleton),t,!0),this.foodTween=cc.tween(this.node).to(4,{y:-500},{easing:"quadIn"}).call(function(){i.node.removeFromParent()}).start(),[2]}})})},t.prototype.changPos=function(){this.image.y=-100},t.prototype.pauseTween=function(){this.foodTween.stop()},t.prototype.playTween=function(){this.foodTween.start()},t.prototype.playSpine=function(e,t,o,n){if(void 0===o&&(o=!1),void 0===n&&(n=0),!o)return new Promise(function(i){var c=e.setAnimation(n,t,o);e.setTrackCompleteListener(c,function(){i(null)})});Promise.resolve().then(function(){e.setAnimation(n,t,o)})},c([h({type:cc.Node,displayName:"\u52a8\u753b"})],t.prototype,"image",void 0),c([f],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../module/kit/assets/AssetsManger":void 0,"./SkyRescue_congfig":"SkyRescue_congfig"}],SkyRescueStone:[function(e,t,o){"use strict";cc._RF.push(t,"f0abev3pZxOlp7A+meB1YBf","SkyRescueStone");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var i,c=arguments.length,r=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(c<3?i(r):c>3?i(t,o,r):i(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r},r=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,c){function r(e){try{s(n.next(e))}catch(t){c(t)}}function a(e){try{s(n.throw(e))}catch(t){c(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,a)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(e){return function(t){return s([e,t])}}function s(c){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(a){c=[6,a],n=0}finally{o=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../module/kit/audio/AudioManager"),l=e("./SkyRescue_congfig"),u=cc._decorator,f=u.ccclass,h=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){return r(this,void 0,void 0,function(){var e=this;return a(this,function(){return this.stoneTween=cc.tween(this.node).to(4,{y:-500},{easing:"quadIn"}).call(function(){e.node.removeFromParent()}).start(),[2]})})},t.prototype.pauseTween=function(){return r(this,void 0,void 0,function(){return a(this,function(){return this.stoneTween.stop(),s.default.playEffect(l.SkyRescue_congfig.bundleName,"res/audios/SE_kongzhongjiuyuan_03"),[2]})})},t.prototype.playSpine=function(e,t,o,n){if(void 0===o&&(o=!1),void 0===n&&(n=0),!o)return new Promise(function(i){var c=e.setAnimation(n,t,o);e.setTrackCompleteListener(c,function(){i(null)})});Promise.resolve().then(function(){e.setAnimation(n,t,o)})},c([f],t)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../module/kit/audio/AudioManager":void 0,"./SkyRescue_congfig":"SkyRescue_congfig"}],SkyRescue_congfig:[function(e,t,o){"use strict";cc._RF.push(t,"9fbf5PU8FFHv7aCHrhizfmK","SkyRescue_congfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.SkyRescue_congfig=void 0,o.SkyRescue_congfig={bundleName:"L2_W13_D3_Game2",foodTs:"SkyRescueFood",stoneTs:"SkyRescueStone",collectRight:100,collectLeft:50,word:["He is a police officer.","He is a waiter.","He is a chef."],audio:["He_is_a_police_officer","He_is_a_waiter","He_is_a_chef"],tipImg:[["police","waiter","chef"]],foodSpin:[["xiongxiong","fuwuyuan","renleichushi"]],foodSpinName:[["dqaiji","daiji","daiji"]],tipMargin:30,foodPosY:500,foodXIndex:[0,1,2,3],collectMax:3},cc._RF.pop()},{}],SkyRescue:[function(e,t,o){"use strict";cc._RF.push(t,"0b411RqL49CjJlD+tIgfJfR","SkyRescue");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var i,c=arguments.length,r=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(c<3?i(r):c>3?i(t,o,r):i(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r},r=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,c){function r(e){try{s(n.next(e))}catch(t){c(t)}}function a(e){try{s(n.throw(e))}catch(t){c(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,a)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(e){return function(t){return s([e,t])}}function s(c){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(a){c=[6,a],n=0}finally{o=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../module/component/hand/script/HandCtr"),l=e("../../../module/component/scripts/GameCompBase"),u=e("../../../module/kit/assets/AssetsManger"),f=e("../../../module/kit/audio/AudioManager"),h=e("./SkyRescueCar"),p=e("./SkyRescue_congfig"),d=cc._decorator,y=d.ccclass,g=d.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgBox=null,t.car=null,t.finish=null,t.collectBox=null,t.firstClickBox=null,t.foodBox=null,t.collectTip=null,t.muxiang=null,t.foodPrefab=null,t.stonePrefab=null,t.tipPrefab=null,t.handCtr=null,t.changSeance=null,t.word=null,t.gameIndex=0,t.foodArr=[],t.tipArr=[],t.collectRoadArr=[],t.stoneIndex=0,t.rightArr=[],t.rightNum=0,t}return i(t,e),t.prototype.onLoad=function(){return r(this,void 0,void 0,function(){return a(this,function(){return e.prototype.onLoad.call(this),cc.debug.setDisplayStats(!1),this.creatCollectRoad(),this.creatTip(),this.firstClickBox.width=this.collectRoadArr[0].width,this.firstClickBox.height=this.collectRoadArr[0].height,this.firstClickBox.position=this.collectRoadArr[0].position,this.oldTipPosX=this.collectTip.x,this.node.getChildByName("scene").y=-this.bgBox.getChildByName("bg0").height,[2]})})},t.prototype.start=function(){var t=this;e.prototype.start.call(this),this.initHandComponent().then(function(e){t.handCtr=e}),this.initTransferComponent().then(function(e){t.changSeance=e}),this.initColorWordComponent().then(function(e){t.word=e})},t.prototype.onGameStart=function(){e.prototype.onGameStart.call(this),this.gameInit()},t.prototype.gameEnd=function(){e.prototype.gameEnd.call(this)},t.prototype.gameInit=function(){return r(this,void 0,void 0,function(){var e=this;return a(this,function(){return f.default.playMusic(p.SkyRescue_congfig.bundleName,"res/audios/BGM_haishangjiuyuan"),f.default.playEffectByName(p.SkyRescue_congfig.bundleName,"res/audios/SE_kongzhongjiuyuan_01"),this.creatEffectCallback0(),this.creatEffectTimeout0(),this.scheduleOnce(function(){e.creatEffectCallback1(),e.creatEffectTimeout1()},.5),cc.tween(this.node.getChildByName("scene")).delay(5).to(1,{y:0}).call(function(){e.unschedule(e.creatEffectCallback0),e.unschedule(e.creatEffectCallback1),cc.tween(e.collectTip).to(.5,{opacity:255}).call(function(){f.default.playLoopEffect(p.SkyRescue_congfig.bundleName,"res/audios/SE_kongzhongjiuyuan_02"),e.creatFirstFood()}).start()}).start(),[2]})})},t.prototype.creatCollectRoad=function(){var e=cc.winSize.width;this.collectTip.x=-e/2+p.SkyRescue_congfig.collectLeft;for(var t=(e-p.SkyRescue_congfig.collectLeft-this.collectTip.width-p.SkyRescue_congfig.collectLeft-p.SkyRescue_congfig.collectRight)/4,o=this.collectTip.x+this.collectTip.width+p.SkyRescue_congfig.collectLeft+t/2,n=0;n<this.collectBox.children.length;n++)this.collectBox.children[n].width=t,this.collectBox.children[n].x=o+t*n,this.collectRoadArr[n]=this.collectBox.children[n]},t.prototype.creatTip=function(){return r(this,void 0,void 0,function(){var e,t,o;return a(this,function(n){switch(n.label){case 0:e=function(e){var o;return a(this,function(n){switch(n.label){case 0:return t.rightArr.push(0),(o=cc.instantiate(t.tipPrefab)).parent=t.collectTip,o.x=t.collectTip.width/2,t.tipArr[e]=o,t.rightArr[e]=!1,[4,u.default.instance.loadImg("res/images/"+p.SkyRescue_congfig.tipImg[t.gameIndex][e],p.SkyRescue_congfig.bundleName).then(function(e){o.getChildByName("image0").getComponent(cc.Sprite).spriteFrame=e})];case 1:return n.sent(),[4,u.default.instance.loadImg("res/images/"+p.SkyRescue_congfig.tipImg[t.gameIndex][e],p.SkyRescue_congfig.bundleName).then(function(e){o.getChildByName("image1").getComponent(cc.Sprite).spriteFrame=e})];case 2:return n.sent(),o.height=o.getChildByName("image0").height,o.width=o.getChildByName("image0").width,[2]}})},t=this,o=0,n.label=1;case 1:return o<p.SkyRescue_congfig.tipImg[this.gameIndex].length?[5,e(o)]:[3,4];case 2:n.sent(),n.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.creatFirstFood=function(){return r(this,void 0,void 0,function(){var e,t,o,n,i=this;return a(this,function(){for(e=[],t=0;t<this.rightArr.length;t++)this.rightArr[t]||e.push(p.SkyRescue_congfig.tipImg[this.gameIndex][t]);return e.length<=0?[2]:(o=Math.floor(Math.random()*e.length),(n=cc.instantiate(this.foodPrefab)).getChildByName("text").getComponent(cc.Label).string=e[o],n.name=e[o],n.parent=this.foodBox,n.y=p.SkyRescue_congfig.foodPosY,n.x=this.collectRoadArr[0].x,this.scheduleOnce(function(){n.getComponent(p.SkyRescue_congfig.foodTs).pauseTween(),f.default.playEffect(p.SkyRescue_congfig.bundleName,"res/audios/click_and_listen_ytz",function(){i.handCtr.node.active=!0,i.handCtr.node.scale=.7,i.handCtr.node.position=i.firstClickBox.position,i.handCtr.getComponent(s.default).ClickCycle(),i.firstClickBox.on(cc.Node.EventType.TOUCH_START,function(){n.getComponent(p.SkyRescue_congfig.foodTs).playTween(),i.finish.x=i.firstClickBox.x,i.car.getComponent(h.default).creatMove(),i.firstClickBox.active=!1,i.handCtr.node.active=!1,i.car.getComponent(h.default).drive(),i.creatFoodTimeout()},i)})},2),[2])})})},t.prototype.creatFood=function(){return r(this,void 0,void 0,function(){var e,t,o,n,i,c,r;return a(this,function(){for(this.stoneIndex++,e=[],t=0;t<this.rightArr.length;t++)this.rightArr[t]<p.SkyRescue_congfig.collectMax&&e.push(p.SkyRescue_congfig.tipImg[this.gameIndex][t]);return e.length<=0?[2]:(o=Math.floor(Math.random()*e.length),(n=cc.instantiate(this.foodPrefab)).getChildByName("text").getComponent(cc.Label).string=e[o],2==this.gameIndex&&n.getComponent(p.SkyRescue_congfig.foodTs).changPos(),n.name=e[o],n.parent=this.foodBox,n.y=p.SkyRescue_congfig.foodPosY,i=Math.floor(Math.random()*this.collectRoadArr.length),n.x=this.collectRoadArr[i].x,this.stoneIndex%2==0&&((c=cc.instantiate(this.stonePrefab)).parent=this.foodBox,c.name="stone",c.y=p.SkyRescue_congfig.foodPosY,(r=Math.floor(Math.random()*this.collectRoadArr.length))==i&&(r=i+1)>=this.collectRoadArr.length&&(r=0),c.x=this.collectRoadArr[r].x),[2])})})},t.prototype.creatFoodTimeout=function(){this.unschedule(this.creatFoodCallback),this.schedule(this.creatFoodCallback,3)},t.prototype.creatFoodCallback=function(){this.creatFood()},t.prototype.eatFood=function(e){return r(this,void 0,void 0,function(){var t;return a(this,function(o){switch(o.label){case 0:for(this.rightNum=0,t=0;t<p.SkyRescue_congfig.tipImg[this.gameIndex].length;t++)e.name==p.SkyRescue_congfig.tipImg[this.gameIndex][t]&&(this.word.showWordAni(p.SkyRescue_congfig.word[t]),f.default.playAudioSound(p.SkyRescue_congfig.bundleName,"res/audios/"+p.SkyRescue_congfig.audio[t]),this.tipArr[t].getChildByName("image1").getComponent(cc.Sprite).fillRange+=1/p.SkyRescue_congfig.collectMax,this.rightArr[t]++),this.rightArr[t]>=p.SkyRescue_congfig.collectMax&&this.rightNum++;return this.rightNum>=p.SkyRescue_congfig.tipImg[this.gameIndex].length&&this.nextLeave(),f.default.playEffect(p.SkyRescue_congfig.bundleName,"res/audios/game_right"),this.car.getChildByName("xingxing").active=!0,[4,this.playSpine(this.car.getChildByName("xingxing").getComponent(sp.Skeleton),"13_1_zhengfangti xiaoshixiaoguo",!1)];case 1:return o.sent(),this.car.getChildByName("xingxing").active=!1,[2]}})})},t.prototype.eatStone=function(){var e=this;this.car.getComponent(h.default).removeMove(),f.default.playEffect(p.SkyRescue_congfig.bundleName,"res/audios/SE_haishangjiuyuan_05"),cc.tween(this.car).to(.3,{opacity:0}).to(.3,{opacity:255}).to(.3,{opacity:0}).to(.3,{opacity:255}).call(function(){e.car.getComponent(h.default).creatMove()}).start()},t.prototype.nextLeave=function(){return r(this,void 0,void 0,function(){var e=this;return a(this,function(){return this.unschedule(this.creatFoodCallback),this.car.getComponent(h.default).removeMove(),this.foodBox.removeAllChildren(),this.gameIndex<p.SkyRescue_congfig.tipImg.length-1?(this.gameIndex++,this.rightArr=[],this.tipArr=[],this.foodArr=[],this.stoneIndex=0,this.rightNum=0,this.car.getChildByName("piting").scaleX=-.7,cc.tween(this.car).to((1500-this.car.x)/500,{x:1500}).call(function(){e.finish.x=0,e.car.getChildByName("piting").scaleX=.7,cc.tween(e.car).to(2,{x:0}).call(function(){e.car.getComponent(h.default).creatMove(),e.creatFoodTimeout()}).start(),cc.tween(e.collectTip).to(1,{x:e.oldTipPosX}).call(function(){}).start()}).start(),cc.tween(this.collectTip).to(1,{x:this.collectTip.x-500}).call(function(){e.collectTip.removeAllChildren(),e.creatTip()}).start()):this.scheduleOnce(function(){e.car.getChildByName("piting").scaleX=-.7,cc.tween(e.car).by(1,{x:2e3}).call(function(){e.gameEnd()}).start()},2),[2]})})},t.prototype.playSpine=function(e,t,o,n){if(void 0===o&&(o=!1),void 0===n&&(n=0),!o)return new Promise(function(i){var c=e.setAnimation(n,t,o);e.setTrackCompleteListener(c,function(){i(null)})});Promise.resolve().then(function(){e.setAnimation(n,t,o)})},t.prototype.creatEffectTimeout0=function(){this.unschedule(this.creatEffectCallback0),this.schedule(this.creatEffectCallback0,1.3)},t.prototype.creatEffectCallback0=function(){},t.prototype.creatEffectTimeout1=function(){this.unschedule(this.creatEffectCallback1),this.schedule(this.creatEffectCallback1,1.3)},t.prototype.creatEffectCallback1=function(){},c([g({type:cc.Node,displayName:"\u80cc\u666f"})],t.prototype,"bgBox",void 0),c([g({type:cc.Node,displayName:"\u76ae\u5212\u8247"})],t.prototype,"car",void 0),c([g({type:cc.Node,displayName:"\u7ed3\u675f\u70b9"})],t.prototype,"finish",void 0),c([g({type:cc.Node,displayName:"collectBox"})],t.prototype,"collectBox",void 0),c([g({type:cc.Node,displayName:"firstClickBox"})],t.prototype,"firstClickBox",void 0),c([g({type:cc.Node,displayName:"foodBox"})],t.prototype,"foodBox",void 0),c([g({type:cc.Node,displayName:"collectTip"})],t.prototype,"collectTip",void 0),c([g({type:cc.Node,displayName:"muxiang"})],t.prototype,"muxiang",void 0),c([g({type:cc.Prefab,displayName:"foodPrefab"})],t.prototype,"foodPrefab",void 0),c([g({type:cc.Prefab,displayName:"stonePrefab"})],t.prototype,"stonePrefab",void 0),c([g({type:cc.Prefab,displayName:"tipPrefab"})],t.prototype,"tipPrefab",void 0),c([y],t)}(l.default);o.default=m,cc._RF.pop()},{"../../../module/component/hand/script/HandCtr":void 0,"../../../module/component/scripts/GameCompBase":void 0,"../../../module/kit/assets/AssetsManger":void 0,"../../../module/kit/audio/AudioManager":void 0,"./SkyRescueCar":"SkyRescueCar","./SkyRescue_congfig":"SkyRescue_congfig"}]},{},["SkyRescue","SkyRescueCar","SkyRescueFood","SkyRescueStone","SkyRescue_congfig"]);