window.__require=function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({CatchHookState:[function(t,e,o){"use strict";cc._RF.push(e,"19067wYalVJyJTrvIAjGNK5","CatchHookState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../../../module/kit/audio/AudioManager"),i=t("../../GoldenMinerEvents"),r=t("../../../../../module/kit/event/EventSystem"),a=t("../../fish/Fish"),s=t("./IdleState"),c=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){r.default.on(i.default.HOOK_IN_COMPLETE,this.onHookInComplete,this),r.default.on(i.default.CATCH_COLLIDER,this.onCatchSuccess,this),r.default.on(i.default.COLLECT_PROGRESS_UPDATE_COMPLETE,this.onProgressUpdateCompete,this),this.stopFish()},t.prototype.execute=function(){},t.prototype.exit=function(){r.default.off(i.default.HOOK_IN_COMPLETE,this.onHookInComplete,this),r.default.off(i.default.CATCH_COLLIDER,this.onCatchSuccess,this),r.default.off(i.default.COLLECT_PROGRESS_UPDATE_COMPLETE,this.onProgressUpdateCompete,this)},t.prototype.stopFish=function(){this.entity.entity.fishList.forEach(function(t){t.getComponent(a.default).stop()})},t.prototype.playFish=function(){this.entity.entity.fishList.forEach(function(t){t.getComponent(a.default).play()})},t.prototype.onHookInComplete=function(t){t.data||this.entity.stateMachine.ChangeState(s.default)},t.prototype.onCatchSuccess=function(t){var e=t.data.getComponent(a.default).letter.toUpperCase();n.default.playEffect(this.entity.entity.bundle,"res/audios/"+e+"_B_ytz")},t.prototype.onProgressUpdateCompete=function(){this.entity.stateMachine.ChangeState(s.default)},t}();o.default=c,cc._RF.pop()},{"../../../../../module/kit/audio/AudioManager":void 0,"../../../../../module/kit/event/EventSystem":void 0,"../../GoldenMinerEvents":"GoldenMinerEvents","../../fish/Fish":"Fish","./IdleState":"IdleState"}],CompleteState:[function(t,e,o){"use strict";cc._RF.push(e,"8b5ddyQBOBGsITQeAg0ebm5","CompleteState"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){},t.prototype.execute=function(){},t.prototype.exit=function(){},t}();o.default=n,cc._RF.pop()},{}],FishGetCaughtState:[function(t,e,o){"use strict";cc._RF.push(e,"a1c07xtgFhDaLBQM/57jePz","FishGetCaughtState"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){this.entity.node.active=!1},t.prototype.execute=function(){},t.prototype.exit=function(){this.entity.node.active=!0},t.prototype.onHookInComplete=function(){},t}();o.default=n,cc._RF.pop()},{}],FishIdleState:[function(t,e,o){"use strict";cc._RF.push(e,"7e5de1dA71Ls7AEsZOEGANX","FishIdleState"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){},t.prototype.execute=function(){},t.prototype.exit=function(){},t}();o.default=n,cc._RF.pop()},{}],FishSwimmingState:[function(t,e,o){"use strict";cc._RF.push(e,"caebdJJHBRMnrfoUHCHco2s","FishSwimmingState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../GoldenMinerEvents"),i=t("../../../../module/kit/event/EventSystem"),r=t("./Fish"),a=t("./FishGetCaughtState"),s=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){this.entity.node.active=!0,this.entity.targetX=this.entity.isLeft?this.entity.max:-this.entity.max,i.default.on(n.default.CATCH_COLLIDER,this.onCatchSuccess,this)},t.prototype.execute=function(){this.entity.isLeft?this.entity.node.x<this.entity.targetX?this.entity.node.x+=this.entity.step:this.entity.turn():this.entity.node.x>this.entity.targetX?this.entity.node.x-=this.entity.step:this.entity.turn()},t.prototype.exit=function(){i.default.off(n.default.CATCH_COLLIDER,this.onCatchSuccess,this)},t.prototype.onCatchSuccess=function(t){t.data.getComponent(r.default)==this.entity&&this.entity.stateMachine.ChangeState(a.default)},t}();o.default=s,cc._RF.pop()},{"../../../../module/kit/event/EventSystem":void 0,"../GoldenMinerEvents":"GoldenMinerEvents","./Fish":"Fish","./FishGetCaughtState":"FishGetCaughtState"}],Fish:[function(t,e,o){"use strict";cc._RF.push(e,"7bf91rrAapCpKFuZ6fX9BCR","Fish");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../module/kit/fsm/StateMachine"),s=t("./FishIdleState"),c=t("./FishSwimmingState"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=t.call(this)||this;return e.sp=null,e.letterLabel=null,e.max=1e3,e.skinNameList=["yu","yu2","yu3","yu4","yu5"],e.stateMachine=new a.StateMachine(e),e}return i(e,t),e.prototype.onLoad=function(){this.letterLabel.string=""},e.prototype.update=function(t){this.stateMachine.Update(t)},e.prototype.initFish=function(t,e,o,n){this.levelConfig=e,this.letterConfig=n,this.setDirection(t),this.initPosition(),this.setLabel(o),this.randomSkin(),this.randomSpeed()},e.prototype.play=function(){this.node.active=!0,this.stateMachine.ChangeState(c.default)},e.prototype.stop=function(){this.stateMachine.ChangeState(s.default)},e.prototype.turn=function(){this.randomStartingPoint(),this.randomSkin(),this.randomSpeed(),this.randomLetter(),this.initPosition()},e.prototype.setSkin=function(t){this.skinIndex=t,this.sp.setAnimation(0,this.skinNameList[t],!0)},e.prototype.setDirection=function(t){this.isLeft=t,this.node.scaleX=this.isLeft?-1:1,this.letterLabel.node.scaleX=this.isLeft?-1:1,this.targetX=this.isLeft?this.max:-this.max},e.prototype.setLabel=function(t){this.letter=t,this.letterLabel.string=t},e.prototype.randomSkin=function(){var t=Math.floor(Math.random()*this.skinNameList.length);this.setSkin(t)},e.prototype.randomSpeed=function(){var t=Math.random()>.5?1:1.5;this.step=this.levelConfig.fish2PassingTime*t},e.prototype.randomStartingPoint=function(){this.setDirection(Math.random()>.5)},e.prototype.randomLetter=function(){var t=Math.random()>.5?this.letterConfig.lowerLetter.letter:this.letterConfig.upperLetter.letter;this.setLabel(t)},e.prototype.initPosition=function(){this.node.x=this.isLeft?-this.max-500*Math.random():this.max+500*Math.random()},r([d(sp.Skeleton)],e.prototype,"sp",void 0),r([d(cc.Label)],e.prototype,"letterLabel",void 0),r([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../module/kit/fsm/StateMachine":void 0,"./FishIdleState":"FishIdleState","./FishSwimmingState":"FishSwimmingState"}],GoldenMinerEvents:[function(t,e,o){"use strict";cc._RF.push(e,"e15a3HZP9tL+raxn+rzqWR/","GoldenMinerEvents"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.HOOK_OUT="HOOK_OUT",t.HOOK_IN="HOOK_IN",t.HOOK_IN_COMPLETE="HOOK_IN_COMPLETE",t.CATCH_COLLIDER="CATCH_COLLIDER",t.COLLECT_COMPLETE="COLLECT_COMPLETE",t.COLLECT_PROGRESS_UPDATE_COMPLETE="COLLECT_PROGRESS_UPDATE_COMPLETE",t.ALL_COLLECT_COMPLETE="ALL_COLLECT_COMPLETE",t.WRITE_COMPLETE="WRITE_COMPLETE",t.READ_COMPLETE="READ_COMPLETE",t.GAME_COMPLETE="GAME_COMPLETE",t}();o.default=n,cc._RF.pop()},{}],GoldenMiner:[function(t,e,o){"use strict";cc._RF.push(e,"bb77cVdapRBn5bk3a69W3JA","GoldenMiner");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../module/component/scripts/GameCompBase"),s=t("../../../module/kit/audio/AudioManager"),c=t("../../../module/kit/fsm/StateMachine"),l=t("../../../module/kit/timer/TimerSystem"),u=t("./state/GuideState"),d=t("./state/InGameState"),p=t("./structure/LetterGroup"),h=t("./structure/Level"),f=cc._decorator,y=f.ccclass,g=f.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.letterConfig=[],e.levelConfig=[],e.fishList=[],e.barList=[],e.writeBoardPrefab=null,e.letterCardNode=null,e.blockNode=null,e.level=1,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.bundleName=this.bundle="L1_W8_D5_Game3",this.initRecordComponent(),cc.director.getCollisionManager().enabled=!0,l.default.instance.init(),this.stateMachine=new c.StateMachine(this)},e.prototype.onGameStart=function(){var t=this;s.default.playMusic(this.bundleName,"res/audios/BGM_huangjinkuanggong_01_ytz"),this.stateMachine.AddGlobalState(u.default),setTimeout(function(){t.stateMachine.ChangeState(d.default),t.blockNode.active=!1},500)},e.prototype.gameEnd=function(){var e=this;cc.log("game end!!!!"),this.scheduleOnce(function(){t.prototype.gameEnd.call(e),cc.audioEngine.stopMusic()},1)},r([g([p.LetterGroup])],e.prototype,"letterConfig",void 0),r([g([h.Level])],e.prototype,"levelConfig",void 0),r([g([cc.Node])],e.prototype,"fishList",void 0),r([g([cc.Node])],e.prototype,"barList",void 0),r([g(cc.Prefab)],e.prototype,"writeBoardPrefab",void 0),r([g(cc.Node)],e.prototype,"letterCardNode",void 0),r([g(cc.Node)],e.prototype,"blockNode",void 0),r([y],e)}(a.default);o.default=v,cc._RF.pop()},{"../../../module/component/scripts/GameCompBase":void 0,"../../../module/kit/audio/AudioManager":void 0,"../../../module/kit/fsm/StateMachine":void 0,"../../../module/kit/timer/TimerSystem":void 0,"./state/GuideState":"GuideState","./state/InGameState":"InGameState","./structure/LetterGroup":"LetterGroup","./structure/Level":"Level"}],GuideState:[function(t,e,o){"use strict";cc._RF.push(e,"ba3e5bziQZHzqfZ0q6M7hfi","GuideState"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){},t.prototype.execute=function(){},t.prototype.exit=function(){},t}();o.default=n,cc._RF.pop()},{}],Hook:[function(t,e,o){"use strict";cc._RF.push(e,"3f5c67kMVxOm51TCYdRKqfj","Hook");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../GoldenMinerEvents"),s=t("../../../../module/kit/event/EventSystem"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(t){s.default.emit(a.default.CATCH_COLLIDER,t.node)},r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../../module/kit/event/EventSystem":void 0,"../GoldenMinerEvents":"GoldenMinerEvents"}],IdleState:[function(t,e,o){"use strict";cc._RF.push(e,"a005acCyt5O661Q2U4aOQ9s","IdleState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../GoldenMinerEvents"),i=t("../../../../../module/kit/event/EventSystem"),r=t("../../fish/Fish"),a=t("./CatchHookState"),s=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){return this.swimming(),this.entity.entity.node.on(cc.Node.EventType.TOUCH_END,this.onTouch,this),Promise.resolve()},t.prototype.execute=function(){},t.prototype.exit=function(){this.swimming(!1),this.entity.entity.node.off(cc.Node.EventType.TOUCH_END,this.onTouch,this)},t.prototype.swimming=function(t){void 0===t&&(t=!0),this.entity.entity.fishList.forEach(function(e){t?e.getComponent(r.default).play():e.getComponent(r.default).stop()})},t.prototype.onTouch=function(t){t.getLocationY()<430&&(i.default.emit(n.default.HOOK_OUT,t.getLocation()),this.entity.stateMachine.ChangeState(a.default))},t}();o.default=s,cc._RF.pop()},{"../../../../../module/kit/event/EventSystem":void 0,"../../GoldenMinerEvents":"GoldenMinerEvents","../../fish/Fish":"Fish","./CatchHookState":"CatchHookState"}],InGameState:[function(t,e,o){"use strict";cc._RF.push(e,"84200YddMxDwq1O1wahzJnd","InGameState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../../module/kit/audio/AudioManager"),i=t("../GoldenMinerEvents"),r=t("../../../../module/kit/event/EventSystem"),a=t("../fish/Fish"),s=t("../../../../module/kit/fsm/StateMachine"),c=t("../progressBar/ProgressBar"),l=t("../structure/LevelVo"),u=t("./inGame/IdleState"),d=t("./inGame/WriteState"),p=t("./inGame/ReadState"),h=t("../../../../module/kit/timer/TimerSystem"),f=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){this.levelVo=new l.default(this.getLetterConfig(this.entity.level)),this.levelConfig=this.getLevelConfig(this.entity.level),this.letterConfig=this.getLetterConfig(this.entity.level),this.initAllFish(),this.initBar(),this.stateMachine=new s.StateMachine(this),this.stateMachine.ChangeState(u.default),r.default.on(i.default.COLLECT_COMPLETE,this.onCollectComplete,this),r.default.on(i.default.WRITE_COMPLETE,this.onWriteComplete,this),r.default.on(i.default.READ_COMPLETE,this.onReadComplete,this),r.default.on(i.default.HOOK_IN_COMPLETE,this.onHookInComplete,this),r.default.on(i.default.ALL_COLLECT_COMPLETE,this.onAllCollectComplete,this),n.default.playEffect(this.entity.bundle,"res/audios/click_and_listen")},t.prototype.execute=function(){},t.prototype.exit=function(){r.default.off(i.default.COLLECT_COMPLETE,this.onCollectComplete,this),r.default.off(i.default.WRITE_COMPLETE,this.onWriteComplete,this),r.default.off(i.default.READ_COMPLETE,this.onReadComplete,this),r.default.off(i.default.HOOK_IN_COMPLETE,this.onHookInComplete,this),r.default.off(i.default.ALL_COLLECT_COMPLETE,this.onAllCollectComplete,this)},t.prototype.initAllFish=function(){var t=this;this.entity.fishList.forEach(function(e){t.setFish(e.getComponent(a.default))})},t.prototype.initBar=function(){var t=[this.letterConfig.upperLetter,this.letterConfig.lowerLetter];this.entity.barList.forEach(function(e,o){e.getComponent(c.default).initPb(t[o].letter,t[o].offY)})},t.prototype.onHookInComplete=function(t){t.data&&this.setFish(t.data)},t.prototype.onCollectComplete=function(t){var e=this;this.levelVo.addLetter(t.data);var o=this.levelVo.getLetterProgress(t.data);o.isComplete?this.stateMachine.ChangeState(u.default,this.letterConfig):h.default.instance.doOnce(500,function(){e.stateMachine.ChangeState(d.default,t.data),o.isComplete=!0})},t.prototype.onAllCollectComplete=function(){this.stateMachine.ChangeState(p.default,this.letterConfig)},t.prototype.setFish=function(t){var e=Math.random()>.5,o=Math.random()>.5?this.letterConfig.upperLetter.letter:this.letterConfig.lowerLetter.letter;t.initFish(e,this.levelConfig,o,this.letterConfig)},t.prototype.onWriteComplete=function(){if(this.levelVo.checkLevelComplete()){var t=this.getLetterConfig(this.entity.level);t&&(this.entity.level+=1,this.levelVo=new l.default(t),r.default.emit(i.default.ALL_COLLECT_COMPLETE))}else this.stateMachine.ChangeState(u.default)},t.prototype.onReadComplete=function(){this.entity.level>this.entity.letterConfig.length?(r.default.emit(i.default.GAME_COMPLETE),this.entity.gameEnd()):(this.letterConfig=this.getLetterConfig(this.entity.level),this.letterConfig?(this.levelConfig=this.getLevelConfig(this.entity.level),this.levelVo=new l.default(this.letterConfig),this.initAllFish(),this.initBar()):cc.warn("\u672a\u627e\u5230\u914d\u7f6e"))},t.prototype.getLetterConfig=function(t){return this.entity.letterConfig[t-1]},t.prototype.getLevelConfig=function(t){return this.entity.levelConfig.find(function(e){return e.level==t})},t}();o.default=f,cc._RF.pop()},{"../../../../module/kit/audio/AudioManager":void 0,"../../../../module/kit/event/EventSystem":void 0,"../../../../module/kit/fsm/StateMachine":void 0,"../../../../module/kit/timer/TimerSystem":void 0,"../GoldenMinerEvents":"GoldenMinerEvents","../fish/Fish":"Fish","../progressBar/ProgressBar":"ProgressBar","../structure/LevelVo":"LevelVo","./inGame/IdleState":"IdleState","./inGame/ReadState":"ReadState","./inGame/WriteState":"WriteState"}],LetterGroup:[function(t,e,o){"use strict";cc._RF.push(e,"132adHfoP5G+ZtP4aTeOr6y","LetterGroup");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LetterGroup=void 0;var i=t("./SingleLetter"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(){function t(){this.upperLetter=null,this.lowerLetter=null,this.audio=null,this.totalCollectNumber=0}return n([s({type:i.SingleLetter,displayName:"\u5927\u5199\u5b57\u6bcd"})],t.prototype,"upperLetter",void 0),n([s({type:i.SingleLetter,displayName:"\u5c0f\u5199\u5b57\u6bcd"})],t.prototype,"lowerLetter",void 0),n([s({type:cc.AudioClip,displayName:"\u5b57\u6bcd\u97f3\u9891"})],t.prototype,"audio",void 0),n([s({type:cc.Integer,displayName:"\u603b\u6536\u96c6\u6570",min:0,max:10,slide:!0,step:1})],t.prototype,"totalCollectNumber",void 0),n([a("LetterGroup")],t)}();o.LetterGroup=c,cc._RF.pop()},{"./SingleLetter":"SingleLetter"}],LetterPathConfig:[function(t,e,o){"use strict";cc._RF.push(e,"5f50cfMeF5IvL9ySkwSSIaE","LetterPathConfig"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.q=[{x:84,y:88,ang:-39,orId:1},{x:68,y:100,ang:-39,orId:1},{x:52,y:114,ang:-39,orId:1},{x:32,y:118,ang:-15,orId:1},{x:12,y:124,ang:-16,orId:1},{x:-8,y:130,ang:-18,orId:1},{x:-28,y:132,ang:-7,orId:1},{x:-47,y:125,ang:19,orId:1},{x:-61,y:110,ang:48,orId:1},{x:-75,y:94,ang:48,orId:1},{x:-84,y:75,ang:66,orId:1},{x:-87,y:55,ang:79,orId:1},{x:-88,y:34,ang:88,orId:1},{x:-78,y:16,ang:117,orId:1},{x:-63,y:2,ang:137,orId:1},{x:-49,y:-13,ang:134,orId:1},{x:-32,y:-24,ang:146,orId:1},{x:-12,y:-25,ang:176,orId:1},{x:10,y:-24,ang:-178,orId:1},{x:30,y:-16,ang:-161,orId:1},{x:48,y:-5,ang:-149,orId:1},{x:65,y:9,ang:-138,orId:1},{x:78,y:24,ang:-132,orId:1},{x:87,y:140,ang:101,orId:2},{x:91,y:120,ang:101,orId:2},{x:94,y:100,ang:97,orId:2},{x:94,y:80,ang:90,orId:2},{x:93,y:58,ang:87,orId:2},{x:91,y:38,ang:85,orId:2},{x:91,y:17,ang:88,orId:2},{x:91,y:-3,ang:90,orId:2},{x:90,y:-24,ang:88,orId:2},{x:89,y:-45,ang:86,orId:2},{x:89,y:-66,ang:90,orId:2},{x:89,y:-86,ang:90,orId:2},{x:89,y:-106,ang:90,orId:2},{x:90,y:-126,ang:92,orId:2}],t.Q=[{x:94,y:111,ang:-31,orId:1},{x:76,y:122,ang:-31,orId:1},{x:59,y:133,ang:-33,orId:1},{x:41,y:143,ang:-29,orId:1},{x:21,y:148,ang:-16,orId:1},{x:0,y:148,ang:-2,orId:1},{x:-22,y:147,ang:3,orId:1},{x:-42,y:146,ang:3,orId:1},{x:-62,y:137,ang:25,orId:1},{x:-81,y:129,ang:22,orId:1},{x:-97,y:116,ang:39,orId:1},{x:-111,y:100,ang:49,orId:1},{x:-121,y:82,ang:59,orId:1},{x:-127,y:63,ang:72,orId:1},{x:-131,y:42,ang:81,orId:1},{x:-131,y:20,ang:90,orId:1},{x:-131,y:-1,ang:90,orId:1},{x:-129,y:-21,ang:95,orId:1},{x:-121,y:-41,ang:112,orId:1},{x:-109,y:-60,ang:121,orId:1},{x:-97,y:-78,ang:123,orId:1},{x:-80,y:-90,ang:143,orId:1},{x:-61,y:-97,ang:161,orId:1},{x:-41,y:-103,ang:163,orId:1},{x:-19,y:-106,ang:170,orId:1},{x:2,y:-107,ang:177,orId:1},{x:22,y:-107,ang:-180,orId:1},{x:42,y:-100,ang:-163,orId:1},{x:62,y:-94,ang:-162,orId:1},{x:80,y:-85,ang:-154,orId:1},{x:97,y:-71,ang:-141,orId:1},{x:108,y:-54,ang:-123,orId:1},{x:118,y:-35,ang:-120,orId:1},{x:123,y:-14,ang:-102,orId:1},{x:127,y:5,ang:-104,orId:1},{x:132,y:27,ang:-101,orId:1},{x:132,y:49,ang:-90,orId:1},{x:129,y:69,ang:-82,orId:1},{x:120,y:87,ang:-67,orId:1},{x:16,y:-36,ang:125,orId:2},{x:28,y:-52,ang:125,orId:2},{x:40,y:-70,ang:125,orId:2},{x:53,y:-86,ang:128,orId:2},{x:63,y:-104,ang:120,orId:2},{x:72,y:-123,ang:113,orId:2},{x:79,y:-142,ang:112,orId:2},{x:89,y:-160,ang:116,orId:2}],t.r=[{x:-49,y:86,ang:90,orId:1},{x:-49,y:66,ang:90,orId:1},{x:-49,y:45,ang:90,orId:1},{x:-49,y:25,ang:90,orId:1},{x:-49,y:4,ang:90,orId:1},{x:-49,y:-17,ang:90,orId:1},{x:-49,y:-38,ang:90,orId:1},{x:-49,y:-58,ang:90,orId:1},{x:-49,y:-80,ang:90,orId:1},{x:-21,y:47,ang:-139,orId:2},{x:-6,y:61,ang:-139,orId:2},{x:11,y:74,ang:-143,orId:2},{x:31,y:77,ang:-171,orId:2},{x:51,y:77,ang:-180,orId:2}],t.R=[{x:-81,y:134,ang:88,orId:1},{x:-82,y:112,ang:88,orId:1},{x:-85,y:92,ang:79,orId:1},{x:-86,y:70,ang:88,orId:1},{x:-87,y:49,ang:88,orId:1},{x:-88,y:28,ang:86,orId:1},{x:-88,y:6,ang:90,orId:1},{x:-88,y:-15,ang:90,orId:1},{x:-87,y:-35,ang:91,orId:1},{x:-87,y:-57,ang:91,orId:1},{x:-87,y:-77,ang:90,orId:1},{x:-86,y:-100,ang:91,orId:1},{x:-86,y:-120,ang:90,orId:1},{x:-49,y:134,ang:-179,orId:2},{x:-27,y:135,ang:-179,orId:2},{x:-6,y:135,ang:-179,orId:2},{x:14,y:135,ang:-180,orId:2},{x:34,y:135,ang:179,orId:2},{x:52,y:124,ang:148,orId:2},{x:66,y:108,ang:131,orId:2},{x:75,y:89,ang:116,orId:2},{x:81,y:69,ang:105,orId:2},{x:79,y:49,ang:85,orId:2},{x:72,y:30,ang:70,orId:2},{x:63,y:12,ang:61,orId:2},{x:52,y:-5,ang:58,orId:2},{x:34,y:-15,ang:27,orId:2},{x:14,y:-17,ang:4,orId:2},{x:-6,y:-19,ang:6,orId:2},{x:-27,y:-21,ang:4,orId:2},{x:-47,y:-20,ang:-2,orId:2},{x:32,y:-52,ang:120,orId:3},{x:42,y:-69,ang:120,orId:3},{x:55,y:-85,ang:129,orId:3},{x:67,y:-102,ang:125,orId:3},{x:79,y:-119,ang:124,orId:3},{x:90,y:-136,ang:123,orId:3}],t}();o.default=n,cc._RF.pop()},{}],LetterWrite:[function(t,e,o){"use strict";cc._RF.push(e,"dce25LQDA5K9ILIV5eFUI0B","LetterWrite");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LetterWrite=void 0;var i=cc._decorator,r=i.ccclass,a=i.property,s=function(){function t(){this.letter="",this.completeAnimation=null,this.audio=null,this.imageBg=null,this.imageBorder=null,this.imageShading=null}return n([a()],t.prototype,"letter",void 0),n([a({type:sp.SkeletonData,displayName:"\u5b8c\u6210\u52a8\u6548"})],t.prototype,"completeAnimation",void 0),n([a({type:cc.AudioClip,displayName:"\u5b57\u6bcd\u97f3\u9891"})],t.prototype,"audio",void 0),n([a({type:cc.SpriteFrame,displayName:"\u80cc\u666f"})],t.prototype,"imageBg",void 0),n([a({type:cc.SpriteFrame,displayName:"\u8fb9\u6846"})],t.prototype,"imageBorder",void 0),n([a({type:cc.SpriteFrame,displayName:"\u5e95\u7eb9"})],t.prototype,"imageShading",void 0),n([r("LetterWrite")],t)}();o.LetterWrite=s,cc._RF.pop()},{}],LevelState:[function(t,e,o){"use strict";cc._RF.push(e,"6962eCUX9tEybG7R/p53XV0","LevelState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../GoldenMinerEvents"),i=t("../../../../module/kit/event/EventSystem"),r=t("../structure/LevelVo"),a=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){this.levelVo=new r.default(this.entity.letterConfig[this.entity.level]),i.default.on(n.default.COLLECT_COMPLETE,this.onCollectComplete,this),i.default.on(n.default.GAME_COMPLETE,this.onReadComplete,this)},t.prototype.execute=function(){},t.prototype.exit=function(){i.default.off(n.default.COLLECT_COMPLETE,this.onCollectComplete,this),i.default.off(n.default.GAME_COMPLETE,this.onReadComplete,this)},t.prototype.onCollectComplete=function(t){this.levelVo.addLetter(t.data)},t.prototype.onReadComplete=function(){this.levelVo.checkLevelComplete()&&(this.entity.level+=1,this.levelVo=new r.default(this.entity.letterConfig[this.entity.level]),i.default.emit(n.default.ALL_COLLECT_COMPLETE)),this.entity.level>this.entity.letterConfig.length&&i.default.emit(n.default.GAME_COMPLETE)},t.prototype.getLevelConfig=function(){var t=this;return this.entity.levelConfig.find(function(e){return e.level==t.entity.level})},t}();o.default=a,cc._RF.pop()},{"../../../../module/kit/event/EventSystem":void 0,"../GoldenMinerEvents":"GoldenMinerEvents","../structure/LevelVo":"LevelVo"}],LevelVo:[function(t,e,o){"use strict";cc._RF.push(e,"10da1qrCPRELJTkC7cabU04","LevelVo"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){this.letters=[{letter:t.lowerLetter.letter,number:0,isComplete:!1},{letter:t.upperLetter.letter,number:0,isComplete:!1}],this.letterConfig=t}return t.prototype.getLetterProgress=function(t){return this.letters.find(function(e){return e.letter===t})},t.prototype.addLetter=function(t){var e=this.getLetterProgress(t);return e.number+=this.letterConfig.totalCollectNumber,cc.log("letter complete:",t),e.isComplete},t.prototype.checkLetterComplete=function(t){return this.getLetterProgress(t).number>=this.letterConfig.totalCollectNumber},t.prototype.checkLevelComplete=function(){return this.letters.every(function(t){return t.isComplete})},t}();o.default=n,cc._RF.pop()},{}],Level:[function(t,e,o){"use strict";cc._RF.push(e,"4c93eb1v8RKW5iNzZoX6w1I","Level");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Level=void 0;var i=cc._decorator,r=i.ccclass,a=i.property,s=function(){function t(){this.level=1,this.fish1PassingTime=0,this.fish2PassingTime=0}return n([a({type:cc.Integer,displayName:"\u5173\u5361"})],t.prototype,"level",void 0),n([a({type:cc.Integer,displayName:"\u5c0f\u9c7c\u901f\u5ea6",min:5,max:55})],t.prototype,"fish1PassingTime",void 0),n([a({type:cc.Integer,displayName:"\u5927\u9c7c\u901f\u5ea6",min:5,max:55})],t.prototype,"fish2PassingTime",void 0),n([r("Level")],t)}();o.Level=s,cc._RF.pop()},{}],PositionVo:[function(t,e,o){"use strict";cc._RF.push(e,"76c522Clu1EsJb5OPoal6Zw","PositionVo"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ProgressBar:[function(t,e,o){"use strict";cc._RF.push(e,"b282013/3hMlr3ivr2ov/HE","ProgressBar");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../GoldenMinerEvents"),s=t("../../../../module/kit/event/EventSystem"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.letterLabel=null,e.pb=null,e}return i(e,t),e.prototype.initPb=function(t,e){void 0===e&&(e=0),this.pb.progress=0,this.letter=t,this.letterLabel.string=t,this.letterLabel.node.y=e},e.prototype.onLoad=function(){this.pb.progress=0,s.default.on(a.default.HOOK_IN_COMPLETE,this.onHookInComplete,this)},e.prototype.onDestroy=function(){s.default.off(a.default.HOOK_IN_COMPLETE,this.onHookInComplete,this)},e.prototype.onHookInComplete=function(t){var e=this;if(t.data&&this.letter===t.data.letter){var o=this.accDiv(1,t.data.letterConfig.totalCollectNumber);cc.log("this.pb.progress",o),cc.tween(this.pb).to(.3,{progress:this.pb.progress+o}).call(function(){cc.log("this.pb.progress",e.pb.progress),e.pb.progress>=1?s.default.emit(a.default.COLLECT_COMPLETE,e.letter):s.default.emit(a.default.COLLECT_PROGRESS_UPDATE_COMPLETE,e.letter)}).start()}},e.prototype.accDiv=function(t,e){var o=0,n=0;try{o=t.toString().split(".")[1].length}catch(i){}try{n=e.toString().split(".")[1].length}catch(i){}return Number(t.toString().replace(".",""))/Number(e.toString().replace(".",""))*Math.pow(10,n-o)},r([u(cc.Label)],e.prototype,"letterLabel",void 0),r([u(cc.ProgressBar)],e.prototype,"pb",void 0),r([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../../module/kit/event/EventSystem":void 0,"../GoldenMinerEvents":"GoldenMinerEvents"}],ReadState:[function(t,e,o){"use strict";cc._RF.push(e,"62918E8KT1Meby09n4mX9C2","ReadState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../../../module/kit/event/BaseEvent"),i=t("../../../../../module/kit/event/ListenerManager"),r=t("../../GoldenMinerEvents"),a=t("../../../../../module/kit/event/EventSystem"),s=t("./IdleState"),c=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(t){this.letterData=t,i.ListenerManager.on(n.BaseEvent.EVENT_FOLLOW_UP_RIGHT,this.onReadRight,this),i.ListenerManager.on(n.BaseEvent.EVENT_FOLLOW_UP_WRONG,this.onReadWrong,this);var e=""+this.letterData.upperLetter.letter+this.letterData.lowerLetter.letter;this.entity.entity.letterCardNode.getComponent(cc.Label).string=e,i.ListenerManager.dispatch(n.BaseEvent.EVENT_FOLLOW_UP,{text:e,textString:e,word:!0,img:this.entity.entity.letterCardNode,imgScale:1,music:"res/audios/"+t.audio.name,time:3})},t.prototype.execute=function(){},t.prototype.exit=function(){i.ListenerManager.off(n.BaseEvent.EVENT_FOLLOW_UP_RIGHT,this.onReadRight,this),i.ListenerManager.off(n.BaseEvent.EVENT_FOLLOW_UP_WRONG,this.onReadWrong,this)},t.prototype.onReadRight=function(){cc.log("onReadRight"),this.entity.stateMachine.ChangeState(s.default),a.default.emit(r.default.READ_COMPLETE,this.letterData)},t.prototype.onReadWrong=function(){cc.log("onReadWrong")},t}();o.default=c,cc._RF.pop()},{"../../../../../module/kit/event/BaseEvent":void 0,"../../../../../module/kit/event/EventSystem":void 0,"../../../../../module/kit/event/ListenerManager":void 0,"../../GoldenMinerEvents":"GoldenMinerEvents","./IdleState":"IdleState"}],ShipGlobalState:[function(t,e,o){"use strict";cc._RF.push(e,"ce79c69+shOGpKktkA3Zgz8","ShipGlobalState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../GoldenMinerEvents"),i=t("../../../../module/kit/event/EventSystem"),r=t("./ShipWaveState"),a=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){this.entity.tigoSk.setAnimation(0,"tigo_zheng_daiji",!0),i.default.on(n.default.GAME_COMPLETE,this.onAllCollectComplete,this)},t.prototype.execute=function(){},t.prototype.exit=function(){i.default.off(n.default.GAME_COMPLETE,this.onAllCollectComplete,this)},t.prototype.onAllCollectComplete=function(){this.entity.stateMachine.ChangeState(r.default)},t}();o.default=a,cc._RF.pop()},{"../../../../module/kit/event/EventSystem":void 0,"../GoldenMinerEvents":"GoldenMinerEvents","./ShipWaveState":"ShipWaveState"}],ShipIdleState:[function(t,e,o){"use strict";cc._RF.push(e,"032aa/jfm5HgIL6kZfJ9nNa","ShipIdleState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../GoldenMinerEvents"),i=t("../../../../module/kit/event/EventSystem"),r=t("./ShipOutState"),a=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){this.hookPoint=this.entity.hookNode.parent.convertToWorldSpaceAR(cc.v2(this.entity.hookNode.position.x,this.entity.hookNode.position.y)),i.default.on(n.default.HOOK_OUT,this.onHootOut,this)},t.prototype.execute=function(){},t.prototype.exit=function(){i.default.off(n.default.HOOK_OUT,this.onHootOut,this)},t.prototype.onHootOut=function(t){var e=Math.atan2(t.data.y-this.hookPoint.y,t.data.x-this.hookPoint.x)*(180/Math.PI);cc.tween(this.entity.hookNode).to(.1,{angle:e+90}).start(),this.entity.stateMachine.ChangeState(r.default)},t}();o.default=a,cc._RF.pop()},{"../../../../module/kit/event/EventSystem":void 0,"../GoldenMinerEvents":"GoldenMinerEvents","./ShipOutState":"ShipOutState"}],ShipInState:[function(t,e,o){"use strict";cc._RF.push(e,"5e4c3fth6lB67PzPpdIuPlH","ShipInState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../GoldenMinerEvents"),i=t("../../../../module/kit/event/EventSystem"),r=t("../fish/Fish"),a=t("./ShipIdleState"),s=t("../../../../module/kit/audio/AudioManager"),c=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(t){if(this.target=t,t){this.targetFish=t.getComponent(r.default),t.active=!1,this.entity.hookSlotNode.active=!0,this.entity.hookSlotNode.opacity=255;var e=this.entity.hookSlotNode.getComponent(r.default);e.setDirection(this.targetFish.isLeft),e.setSkin(this.targetFish.skinIndex),e.setLabel(this.targetFish.letter)}},t.prototype.execute=function(){this.entity.hookNode.height>196?this.entity.hookNode.height-=this.entity.hootSpeed:this.hootInComplete()},t.prototype.exit=function(){},t.prototype.hootInComplete=function(){var t=this;cc.tween(this.entity.hookNode).to(.05,{angle:0}).start(),this.target?(this.entity.tigoSk.setAnimation(0,"tigo_zheng_huanhu",!1),this.entity.tigoSk.setCompleteListener(function(){t.entity.tigoSk.setAnimation(0,"tigo_zheng_daiji",!1)}),s.default.playEffect("L1_W8_D5_Game3","res/audios/SE_huangjinkuanggong_02")):(this.entity.tigoSk.setAnimation(0,"tigo_zheng_shagnxin",!1),s.default.playEffect("L1_W8_D5_Game3","res/audios/SE_huangjinkuanggong_03"),this.entity.tigoSk.setCompleteListener(function(){t.entity.tigoSk.setAnimation(0,"tigo_zheng_daiji",!1)})),cc.tween(this.entity.hookSlotNode).call(function(){t.entity.hookSlotNode.active=!1,t.entity.stateMachine.ChangeState(a.default),i.default.emit(n.default.HOOK_IN_COMPLETE,t.targetFish)}).start()},t}();o.default=c,cc._RF.pop()},{"../../../../module/kit/audio/AudioManager":void 0,"../../../../module/kit/event/EventSystem":void 0,"../GoldenMinerEvents":"GoldenMinerEvents","../fish/Fish":"Fish","./ShipIdleState":"ShipIdleState"}],ShipOutState:[function(t,e,o){"use strict";cc._RF.push(e,"48372L6t89AI6MW0nGAxKN4","ShipOutState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../GoldenMinerEvents"),i=t("../../../../module/kit/event/EventSystem"),r=t("./ShipInState"),a=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){i.default.on(n.default.CATCH_COLLIDER,this.onCatchSuccess,this)},t.prototype.execute=function(){this.entity.hookNode.height>this.entity.hootMaxLength?this.entity.stateMachine.ChangeState(r.default):this.entity.hookNode.height+=this.entity.hootSpeed},t.prototype.exit=function(){i.default.off(n.default.CATCH_COLLIDER,this.onCatchSuccess,this)},t.prototype.onCatchSuccess=function(t){this.entity.stateMachine.ChangeState(r.default,t.data)},t}();o.default=a,cc._RF.pop()},{"../../../../module/kit/event/EventSystem":void 0,"../GoldenMinerEvents":"GoldenMinerEvents","./ShipInState":"ShipInState"}],ShipWaveState:[function(t,e,o){"use strict";cc._RF.push(e,"4448cBg0BdOs7Vp5aiBvje+","ShipWaveState"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(){this.entity.tigoSk.setAnimation(0,"tigo_zheng_huanhu",!0)},t.prototype.execute=function(){},t.prototype.exit=function(){},t}();o.default=n,cc._RF.pop()},{}],Ship:[function(t,e,o){"use strict";cc._RF.push(e,"6c0923hjctJqrZhjmlypvDH","Ship");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../module/kit/fsm/StateMachine"),s=t("./ShipGlobalState"),c=t("./ShipIdleState"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=t.call(this)||this;return e.tigoSk=null,e.hookNode=null,e.hootSpeed=0,e.hootMaxLength=0,e.hookSlotNode=null,e.stateMachine=new a.StateMachine(e),e}return i(e,t),e.prototype.onLoad=function(){this.hookSlotNode.active=!1,this.stateMachine.AddGlobalState(s.default),this.stateMachine.ChangeState(c.default)},e.prototype.update=function(t){this.stateMachine.Update(t)},r([d(sp.Skeleton)],e.prototype,"tigoSk",void 0),r([d(cc.Node)],e.prototype,"hookNode",void 0),r([d({type:cc.Integer,displayName:"\u9c7c\u94a9\u79fb\u52a8\u901f\u5ea6"})],e.prototype,"hootSpeed",void 0),r([d({type:cc.Integer,displayName:"\u9c7c\u94a9\u6700\u5927\u957f\u5ea6"})],e.prototype,"hootMaxLength",void 0),r([d({type:cc.Node,displayName:"\u9c7c\u94a9\u69fd"})],e.prototype,"hookSlotNode",void 0),r([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../module/kit/fsm/StateMachine":void 0,"./ShipGlobalState":"ShipGlobalState","./ShipIdleState":"ShipIdleState"}],SingleLetter:[function(t,e,o){"use strict";cc._RF.push(e,"0d70daPsNlF4qHuJQcn+2nZ","SingleLetter");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SingleLetter=void 0;var i=cc._decorator,r=i.ccclass,a=i.property,s=function(){function t(){this.letter="",this.offY=0,this.upperNumber=0}return n([a({displayName:"\u5b57\u6bcd"})],t.prototype,"letter",void 0),n([a({type:cc.Integer,displayName:"Y\u8f74\u504f\u79fb\u91cf",min:-50,max:50,slide:!0,step:1})],t.prototype,"offY",void 0),n([a({type:cc.Integer,displayName:"\u51fa\u73b0\u6982\u7387",min:0,max:100,slide:!0,step:1})],t.prototype,"upperNumber",void 0),n([r("SingleLetter")],t)}();o.SingleLetter=s,cc._RF.pop()},{}],WirteBoard:[function(t,e,o){"use strict";cc._RF.push(e,"74753C7iD1P9KEZ2LORx2Mx","WirteBoard");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(e){r(e)}}function s(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../../module/kit/audio/AudioManager"),l=t("../GoldenMinerEvents"),u=t("../../../../module/kit/event/EventSystem"),d=t("../structure/LetterWrite"),p=t("./shapeItem"),h=t("../../../../module/kit/timer/TimerSystem"),f=cc._decorator,y=f.ccclass,g=f.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.drawNode=null,e.welcomeAudio=null,e.letterConfig=[],e.colorButtonList=[],e.smokeSp=null,e.letterSp=null,e.bundleName="L1_W8_D5_Game3",e}return i(e,t),e.prototype.onLoad=function(){this.smokeSp.node.active=!1,this.draw=this.drawNode.getComponent(p.default),this.defaultSelectColor(),this.draw.init(this.onWriteBegin.bind(this),this.onFistMove.bind(this),this.onMove.bind(this),this.onWriteComplete.bind(this)),c.default.playEffect(this.bundleName,"res/audios/trace_the_letter")},e.prototype.onDestroy=function(){cc.log("WriteBoard.onDestroy")},e.prototype.setLetter=function(t){this.letter=t;var e=this.getLetterConfig(this.letter);this.draw.setLetter(e),this.draw.show()},e.prototype.defaultSelectColor=function(){this.selectPen=this.colorButtonList[0],this.selectPen.x+=50,this.selectColorIndex=0},e.prototype.getLetterConfig=function(t){return this.letterConfig.find(function(e){return e.letter===t})},e.prototype.onColorClick=function(t,e){if(this.selectColorIndex=Number(e),this.selectPen){var o=Number(this.selectPen.getComponent(cc.Button).clickEvents[0].customEventData)<3;this.selectPen.x+=o?-50:50}var n=this.selectColorIndex<3,i=t.currentTarget;i.x+=n?50:-50,this.draw.setColor(this.selectColorIndex),this.selectPen=i},e.prototype.onWriteBegin=function(){},e.prototype.onFistMove=function(){this.colorButtonList.forEach(function(t,e){var o=e<3;cc.tween(t).to(.4,{x:o?t.x-300:t.x+300}).start()})},e.prototype.onMove=function(){var t=this.getLetterConfig(this.letter);c.default.playAudioSound(this.bundleName,"res/audios/"+t.audio.name)},e.prototype.onWriteComplete=function(){return a(this,void 0,Promise,function(){var t;return s(this,function(e){switch(e.label){case 0:return this.smokeSp.node.active=!0,this.smokeSp.setAnimation(0,"yanwu",!1),t=this.getLetterConfig(this.letter),this.letterSp.skeletonData=t.completeAnimation,c.default.playEffect(this.bundleName,"res/audios/letterJump"),[4,this.playSpine(this.letterSp,String(this.selectColorIndex+1),!1)];case 1:return e.sent(),h.default.instance.doOnce(500,function(){u.default.emit(l.default.WRITE_COMPLETE,t)}),[2]}})})},e.prototype.playSpine=function(t,e,o){return a(this,void 0,Promise,function(){var n;return s(this,function(){return t.clearTracks(),t.setToSetupPose(),n=t.setAnimation(0,e,o),o?[2]:[2,new Promise(function(e){t.setTrackCompleteListener(n,function(){e()})})]})})},r([g(cc.Node)],e.prototype,"drawNode",void 0),r([g({type:cc.AudioClip,displayName:"\u5f00\u573a\u97f3\u9891"})],e.prototype,"welcomeAudio",void 0),r([g([d.LetterWrite])],e.prototype,"letterConfig",void 0),r([g([cc.Node])],e.prototype,"colorButtonList",void 0),r([g(sp.Skeleton)],e.prototype,"smokeSp",void 0),r([g(sp.Skeleton)],e.prototype,"letterSp",void 0),r([y],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../../../module/kit/audio/AudioManager":void 0,"../../../../module/kit/event/EventSystem":void 0,"../../../../module/kit/timer/TimerSystem":void 0,"../GoldenMinerEvents":"GoldenMinerEvents","../structure/LetterWrite":"LetterWrite","./shapeItem":"shapeItem"}],WriteState:[function(t,e,o){"use strict";cc._RF.push(e,"448e2P1hRVLWrUDUPoYrUNm","WriteState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../write/WirteBoard"),i=function(){function t(){}return t.prototype.onMessage=function(){throw new Error("Method not implemented.")},t.prototype.enter=function(t){var e=cc.instantiate(this.entity.entity.writeBoardPrefab);this.entity.entity.node.addChild(e),e.getComponent(n.default).setLetter(t),this.entity.entity.writeBoard=e},t.prototype.execute=function(){},t.prototype.exit=function(){this.entity.entity.writeBoard.removeFromParent()},t}();o.default=i,cc._RF.pop()},{"../../write/WirteBoard":"WirteBoard"}],ckk:[function(t,e,o){"use strict";cc._RF.push(e,"ff6f7MblYFJDZ6bPqdx5nQ8","ckk");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.signNode=null,e.mid=0,e.mangle=0,e.orderId=0,e.isCanMove=!1,e}return i(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.onTouchMove=function(t){if(this.isCanMove){var e=t.getLocation(),o=this.node.parent.convertToNodeSpaceAR(e);this.node.position=o}},e.prototype.showSign=function(t){void 0===t&&(t=!1),this.signNode.active=t},r([c(cc.Node)],e.prototype,"signNode",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],shapeItem:[function(t,e,o){"use strict";cc._RF.push(e,"5bc03Wh4lNEgZl2OCSiwA9X","shapeItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(e){r(e)}}function s(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../../module/kit/assets/AssetsManger"),l=t("../../../../module/kit/audio/AudioManager"),u=t("../../../../scripts/GameData"),d=t("./LetterPathConfig"),p=cc._decorator,h=p.ccclass,f=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TestDraw=!1,e.crNm=50,e.midDistance=25,e.ckSize=40,e.showPath=!1,e.criteriaRate=.9,e.mask=null,e.spBack=null,e.printing=null,e.frame=null,e.spUp=null,e.mSpArr=[],e.nSpArr=[],e.ckk=null,e.ckboard=null,e.arrowNode=null,e.butNode=null,e.moveCk=null,e.dianPre=null,e.guideboard=null,e.letterPathConfig=null,e.cur_index=0,e.isCanMove=!0,e.colorIndex=0,e.colorValue=["#4eb839","#f7843e","#9d4dd0","#eb8c9e","#3c81ff","#f5d127"],e.pathIndex=0,e.guidePathArr=[],e.isFirstMove=!0,e.guidecallback=null,e.curOrderId=0,e}return i(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchBegin,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchBegin,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoved,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.init=function(t,e,o,n){this.onBegin=t,this.onFistMove=e,this.onMove=o,this.onComplete=n},e.prototype.show=function(){cc.log("this.uuid",this.uuid),this.moveCk.width=this.ckSize,this.moveCk.height=this.ckSize,this.spBack.spriteFrame=this.config.imageBg,this.frame.spriteFrame=this.config.imageBorder,this.printing.spriteFrame=this.config.imageShading;var t=cc.Color.WHITE;if(t.fromHEX(this.colorValue[this.colorIndex]),this.spBack.node.color=t,this.spUp.spriteFrame=this.config.imageBg,this.TestDraw)this.butNode.active=!0;else{this.setCkkFun(),this.arrowNode.position=this.ckboard.children[this.cur_index].position;var e=this.ckboard.children[this.cur_index].getComponent("ckk").mangle;this.arrowNode.angle=e,this.guideSchedule()}},e.prototype.setColor=function(t){this.colorIndex=t;var e=cc.Color.WHITE;e.fromHEX(this.colorValue[this.colorIndex]),this.spBack.node.color=e,this.setArrowSp(t)},e.prototype.setLetter=function(t){this.config=t},e.prototype.getLetterPathConfig=function(t){return d.default[t]},e.prototype.setArrowSp=function(t){return a(this,void 0,void 0,function(){var e,o;return s(this,function(n){switch(n.label){case 0:return e="res/images/draw/arrow"+t,o=this.arrowNode.getComponent(cc.Sprite),[4,c.default.instance.loadImg(e,u.default.curBundleName)];case 1:return o.spriteFrame=n.sent(),[2]}})})},e.prototype.setCkkFun=function(){for(var t=this.getLetterPathConfig(this.config.letter),e=t.length,o=0;o<e;o++){var n=cc.instantiate(this.ckk);this.ckboard.addChild(n);var i=t[o];n.x=i.x,n.y=i.y,n.getComponent("ckk").mangle=i.ang,this.showPath&&n.getComponent("ckk").showSign(!0)}},e.prototype.getHaveDoneIndex=function(t,e){for(var o=0,n=0;n<e;n++)o+=this.getDrawOrderArr(t,n).length;return this.cur_index-o},e.prototype.getDrawOrderArr=function(t,e){return t.filter(function(t){return t.orId==e})},e.prototype.initGuidePath=function(){var t=this.getLetterPathConfig(this.config.letter),e=t[this.cur_index].orId;cc.log("cur_orid= ",e);var o=this.getDrawOrderArr(t,e),n=o.length;this.guideboard.destroyAllChildren(),this.guidePathArr=[],this.pathIndex=0;var i=this.getHaveDoneIndex(t,e);for(cc.log("mindex=",i);i<n;){var r=cc.instantiate(this.dianPre);this.guideboard.addChild(r);var a=o[i];r.x=a.x,r.y=a.y,this.guidePathArr.push(r),i+=2}},e.prototype.guidePath=function(){var t=this;this.pathIndex>=this.guidePathArr.length||cc.tween(this.guidePathArr[this.pathIndex]).by(.15,{scale:.2}).by(.15,{scale:-.2}).call(function(){t.pathIndex++,t.guidePath()}).start()},e.prototype.guideSchedule=function(t){var e=this;void 0===t&&(t=6),this.schedule(this.guidecallback=function(){e.guideboard.active=!0,e.initGuidePath(),e.guidePath()},t)},e.prototype.unGuideFun=function(){this.guideboard.active=!1,this.unschedule(this.guidecallback)},e.prototype.onTouchBegin=function(t){if(this.isCanMove){this.onMove();var e=t.getLocation();e=this.node.convertToNodeSpaceAR(e),this.TestDraw?(this.posi1=e,this.curOrderId++,this.assemblePatchArr(e,!0)):(this.unGuideFun(),this.moveCk.position=e,this.drawByPath(),this.onBegin(),l.default.playLoopEffect(u.default.curBundleName,"res/audios/pendraw"))}},e.prototype.onTouchMoved=function(t){if(this.isCanMove){var e=t.getLocation();e=this.node.convertToNodeSpaceAR(e),this.TestDraw?this.assemblePatchArr(e):(this.moveCk.position=e,this.drawByPath())}},e.prototype.drawByPath=function(){if(this.cur_index<this.ckboard.childrenCount){var t=this.ckboard.children[this.cur_index].getBoundingBox(),e=this.moveCk.getBoundingBox(),o=this.ckboard.children[this.cur_index].position;if(t.intersects(e)){if(this.cur_index++,this.cur_index<this.ckboard.childrenCount){this.arrowNode.position=this.ckboard.children[this.cur_index].position;var n=this.ckboard.children[this.cur_index].getComponent("ckk").mangle;this.arrowNode.angle=n,this._addCircle(o)}this.onMoveFun()}}},e.prototype.onMoveFun=function(){this.arrowNode.getChildByName("ef").active||(this.arrowNode.getChildByName("ef").active=!0),this.isFirstMove&&(this.isFirstMove=!1,this.onFistMove())},e.prototype.assemblePatchArr=function(t,e){if(void 0===e&&(e=!1),Math.abs(t.sub(this.posi1).mag())>=this.midDistance||e){var o=this.vecToAngle(t.sub(this.posi1)),n=cc.instantiate(this.ckk);n.getComponent("ckk").isCanMove=!0,n.getComponent("ckk").showSign(!0),n.getComponent("ckk").mangle=o,n.getComponent("ckk").orderId=this.curOrderId,this.ckboard.addChild(n),n.position=t,this.posi1=t}},e.prototype.vecToAngle=function(t){var e=cc.v2(-1,0),o=t.signAngle(e),n=cc.misc.radiansToDegrees(o);return Math.floor(-n)},e.prototype.logPositionFun=function(){this.isCanMove=!1;for(var t=this.ckboard.childrenCount,e=0,o=0,n=0,i=0,r="[",a=0;a<t;a++)e=Math.floor(this.ckboard.children[a].x),o=Math.floor(this.ckboard.children[a].y),i=this.ckboard.children[a].getComponent("ckk").orderId,0==(n=this.ckboard.children[a].getComponent("ckk").mangle)&&a+1<t&&(n=this.ckboard.children[a+1].getComponent("ckk").mangle),r=r.concat("{x:"+e+",y:"+o+",ang:"+n+",orId:"+i+"},");r=r.concat("]"),cc.log("\u8def\u5f84\u70b9info\u6570\u7ec4=="+r)},e.prototype.onTouchEnd=function(){if(this.isCanMove){l.default.stopLoopEffect(u.default.curBundleName,"res/audios/pendraw");var t=this.getLetterPathConfig(this.config.letter).length;this.cur_index/t>=this.criteriaRate?(this.isCanMove=!1,this.spUp.node.active=!1,this.onComplete(),cc.log("\u5b8c\u6210\u5ea6\u8fbe\u6807\uff0c\u89c6\u4e3a\u753b\u5b8c\uff0c\u7ed3\u675f\u7ed8\u753b"),this.node.destroy()):this.guideSchedule(),this.arrowNode.getChildByName("ef").active=!1}},e.prototype.onTouchCancel=function(){this.onTouchEnd()},e.prototype._addCircle=function(t){this.mask._graphics.lineWidth=1,this.mask._graphics.strokeColor=cc.color(255,0,0),this.mask._graphics.fillColor=cc.color(0,255,0),this.mask._graphics.circle(t.x,t.y,this.crNm),this.mask._graphics.fill(),this.mask._graphics.stroke()},e.prototype.playSpine=function(t,e,o){t.clearTracks(),t.setToSetupPose();var n=t.setAnimation(0,e,o);if(!o)return new Promise(function(e){t.setTrackCompleteListener(n,function(){e()})})},r([f({displayName:"\u7ed8\u5236\u8def\u5f84",tooltip:"\u7ebf\u6761\u592a\u590d\u6742\u7b97\u4e0d\u51fa\u6765\uff0c\u53ea\u80fd\u81ea\u5df1\u753b"})],e.prototype,"TestDraw",void 0),r([f({type:0,displayName:"\u7b14\u5237",tooltip:"\u8bbe\u7f6e\u7b14\u5237\u534a\u5f84"})],e.prototype,"crNm",void 0),r([f({type:0,displayName:"\u95f4\u8ddd",tooltip:"\u8def\u5f84\u70b9\u7684\u95f4\u8ddd"})],e.prototype,"midDistance",void 0),r([f({type:0,displayName:"\u68c0\u6d4b\u6846\u5927\u5c0f",tooltip:"\u79fb\u52a8\u68c0\u6d4b\u6846\u7684\u5927\u5c0f\uff0c\u8d8a\u5927\u8d8a\u5bb9\u6613\u68c0\u6d4b"})],e.prototype,"ckSize",void 0),r([f({displayName:"show\u8def\u5f84",tooltip:"\u975e\u7ed8\u5236\u6a21\u5f0f\u4e0b\uff0c\u663e\u793a\u5f53\u524d\u4ee5\u653e\u5165\u4ee3\u7801\u4e2d\u8fd0\u884c\u7684\u8def\u5f84\u70b9"})],e.prototype,"showPath",void 0),r([f({type:0,displayName:"\u8fbe\u6807\u5ea6",tooltip:"\u7b97\u4f5c\u753b\u5b8c\u7684\u6700\u4f4e\u5b8c\u6210\u767e\u5206\u6bd4"})],e.prototype,"criteriaRate",void 0),r([f(cc.Mask)],e.prototype,"mask",void 0),r([f(cc.Sprite)],e.prototype,"spBack",void 0),r([f(cc.Sprite)],e.prototype,"printing",void 0),r([f(cc.Sprite)],e.prototype,"frame",void 0),r([f(cc.Sprite)],e.prototype,"spUp",void 0),r([f(cc.SpriteFrame)],e.prototype,"mSpArr",void 0),r([f(cc.SpriteFrame)],e.prototype,"nSpArr",void 0),r([f(cc.Prefab)],e.prototype,"ckk",void 0),r([f(cc.Node)],e.prototype,"ckboard",void 0),r([f(cc.Node)],e.prototype,"arrowNode",void 0),r([f(cc.Node)],e.prototype,"butNode",void 0),r([f(cc.Node)],e.prototype,"moveCk",void 0),r([f(cc.Prefab)],e.prototype,"dianPre",void 0),r([f(cc.Node)],e.prototype,"guideboard",void 0),r([f(cc.JsonAsset)],e.prototype,"letterPathConfig",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../../module/kit/assets/AssetsManger":void 0,"../../../../module/kit/audio/AudioManager":void 0,"../../../../scripts/GameData":void 0,"./LetterPathConfig":"LetterPathConfig"}]},{},["GoldenMiner","GoldenMinerEvents","Fish","FishGetCaughtState","FishIdleState","FishSwimmingState","ProgressBar","Hook","Ship","ShipGlobalState","ShipIdleState","ShipInState","ShipOutState","ShipWaveState","CompleteState","GuideState","InGameState","LevelState","CatchHookState","IdleState","ReadState","WriteState","LetterGroup","LetterWrite","Level","LevelVo","PositionVo","SingleLetter","LetterPathConfig","WirteBoard","ckk","shapeItem"]);